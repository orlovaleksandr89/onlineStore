(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{118:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(22),s=n.n(r),i=(n(57),n(13)),o=n(121),l=n(69),u=n(10),j=n(9),d=n(7),m=n(5),b=n.n(m),p=n(122),x=n(120),f=n(18),h=n(32),O=n.n(h),v=n(67);O.a.defaults.baseURL=v.apiEndpoint,O.a.interceptors.request.use((function(e){var t=localStorage.getItem("token");return e.headers.Authorization="Bearer ".concat(t),e}),(function(e){console.log(e),Promise.reject(e)}));var g={get:O.a.get,post:O.a.post,put:O.a.put,delete:O.a.delete},y="/items",w={get:function(){var e=Object(u.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.get(y);case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getItemById:function(){var e=Object(u.a)(b.a.mark((function e(t){var n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.get(y+"/".concat(t));case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},N=w,C="/admin",k={get:function(){var e=Object(u.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.get(C);case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),post:function(){var e=Object(u.a)(b.a.mark((function e(t,n){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.post(C+t,n);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),delete:function(){var e=Object(u.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.delete("/admin/deleteitem/"+t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},S=k,I=n(1),T=c.a.createContext(),B=function(){return Object(a.useContext)(T)},R=function(e){var t=e.children,n=Object(a.useState)([]),c=Object(d.a)(n,2),r=c[0],s=c[1],i=Object(a.useState)({}),o=Object(d.a)(i,2),l=o[0],m=o[1],p=Object(a.useState)(!1),x=Object(d.a)(p,2),h=x[0],O=x[1],v=Object(a.useState)(null),g=Object(d.a)(v,2),y=g[0],w=g[1];function C(){return k.apply(this,arguments)}function k(){return(k=Object(u.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,O(!0),e.next=4,N.get();case 4:t=e.sent,s(t),O(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),H(e.t0.response.data.message),O(!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function B(){return(B=Object(u.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,O(!0),e.next=4,N.getItemById(t);case 4:n=e.sent,m(n),O(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),H(e.t0.response.data.message),O(!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function R(){return(R=Object(u.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,O(!0),e.next=4,S.post("/createitem",Object(j.a)({},t));case 4:return n=e.sent,f.b.success(n.data.message),201===n.status&&C(),e.abrupt("return",n);case 10:e.prev=10,e.t0=e.catch(0),H(e.t0.response.data.message),O(!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function D(){return(D=Object(u.a)(b.a.mark((function e(t,n){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,O(!0),e.next=4,S.post("/updateitem",{id:t,data:n});case 4:return a=e.sent,f.b.success(a.data.message),200===a.status&&C(),e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(0),H(e.t0.response.data.message),O(!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function _(){return(_=Object(u.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,O(!0),e.next=4,S.delete(t);case 4:return n=e.sent,f.b.success(n.data.message),200===n.status&&C(),O(!1),console.log(n),e.abrupt("return",n);case 12:e.prev=12,e.t0=e.catch(0),H(e.t0.response.data.message),O(!1);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function H(e){e&&(w(e),O(!1)),w(null)}return Object(a.useEffect)((function(){null!==y&&(f.b.error(y,{position:"top-center",autoClose:3e3,closeOnClick:!0,draggable:!0,progress:void 0}),w(null))}),[y]),Object(a.useEffect)((function(){return C(),function(){O(!1)}}),[]),Object(I.jsx)(T.Provider,{value:{items:r,getItemById:function(e){return r.find((function(t){return t._id===e}))},loading:h,getItemFromDB:function(e){return B.apply(this,arguments)},itemFromDb:l,deleteItemFromDB:function(e){return _.apply(this,arguments)},createItemInDB:function(e){return R.apply(this,arguments)},updateItemInDB:function(e,t){return D.apply(this,arguments)}},children:t})},D=n(124);var _=function(e){var t=e.show,n=e.onHide,a=e.title,c=e.body,r=e.cancelButtonText,s=e.confirmButtonText,i=e.id,o=B(),l=o.loading,u=o.deleteItemFromDB;return Object(I.jsxs)(D.a,{show:t,onHide:n,children:[Object(I.jsx)(D.a.Header,{children:Object(I.jsx)(D.a.Title,{children:a})}),Object(I.jsx)(D.a.Body,{children:c}),Object(I.jsxs)(D.a.Footer,{children:[Object(I.jsx)(x.a,{variant:"outline-warning",className:"text-dark",onClick:n,children:r}),Object(I.jsx)(x.a,{variant:"outline-danger",className:"text-dark",disabled:l,onClick:function(){u(i),n()},children:s})]})]})},H=n(28),q={email:{isRequired:{message:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u0430 \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"},isEmail:{message:"\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0432\u0430\u0448\u0435\u0433\u043e email"}},password:{isRequired:{message:"\u041f\u0430\u0440\u043e\u043b\u044c \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u0435\u043d \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"},isCapitalLetter:{message:"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0437\u0430\u0433\u043b\u0430\u043d\u0443\u044e \u0431\u0443\u043a\u0432\u0443"},isNumber:{message:"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0446\u044b\u0444\u0440\u0443"},min:{message:"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u043d\u0435 \u043c\u0435\u043d\u044c\u0448\u0435 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432",value:8}},profession:{isRequired:{message:"\u041f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u044f \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u0430 \u043a \u0432\u044b\u0431\u043e\u0440\u0443"}},licence:{isRequired:{message:"\u0412\u044b \u043d\u0435 \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043d\u0430\u0448 \u0441\u0435\u0440\u0432\u0438\u0441 \u0431\u0435\u0437 \u043f\u0440\u0438\u043d\u044f\u0442\u0438\u044f \u043b\u0438\u0446\u0435\u043d\u0437\u0438\u0438"}},name:{isRequired:{message:"\u0418\u043c\u044f \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"}},qualities:{isRequired:{message:"\u0412\u044b\u0431\u0438\u0440\u0435\u0442\u0435 \u0445\u043e\u0442\u044f \u0431 \u043e\u0434\u043d\u043e \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u043e"}},userId:{isRequired:{message:"\u0412\u044b\u0431\u0438\u0440\u0435\u0442\u0435 \u0445\u043e\u0442\u044f \u0431 \u043e\u0434\u043d\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}},content:{isRequired:{message:"\u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"}},type:{isRequired:{message:"\u041f\u043e\u043b\u0435 \u0442\u0438\u043f \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"}},price:{isRequired:{message:"\u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"},isNumber:{message:"\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0447\u0438\u0441\u043b\u043e\u043c"}},title:{isRequired:{message:"\u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"}},description:{isRequired:{message:"\u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"}},quantity:{isRequired:{message:"\u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"},isNumber:{message:"\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0447\u0438\u0441\u043b\u043e\u043c"}},imgURL:{isRequired:{message:"\u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"},isValidLink:{message:"\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0441\u0442\u044c URL"}}},U=function(e,t){var n={};function a(e,t,n){var a;switch(e){case"isRequired":try{a="boolean"===typeof t?!t:"object"===typeof t?0===Object.keys(t).length:Array.isArray(t)?0===t.length:""===t.trim()}catch(s){console.log(s.message)}break;case"isEmail":a=!/^\S+@\S+\.\S+$/g.test(t);break;case"isCapitalLetter":a=!/[A-Z]+/g.test(t);break;case"isNumber":a=!/\d+/g.test(t);break;case"min":a=t.length<n.value;break;case"isCorrectDate":a=Number(t.split("-")[0])>(new Date).getFullYear();break;case"isValidLink":a=!/^\S+:\/\/\S+\.\S+/g.test(t)}if(a)return n.message}for(var c in e)for(var r in t[c]){var s=a(r,e[c],t[c][r]);s&&!n[c]&&(n[c]=s)}return n},E=n(24),F=["label","name","onChange","value","type","error"];function L(e){var t=e.label,n=e.name,c=e.onChange,r=e.value,s=e.type,i=e.error,o=Object(E.a)(e,F),l=Object(a.useState)(!1),u=Object(d.a)(l,2),m=u[0],b=u[1],p=Object(a.useCallback)((function(e){var t=e.target;c({name:t.name,value:t.value})}),[c]);return Object(I.jsxs)("div",{className:"d-flex flex-column mt-3",children:[Object(I.jsx)("label",{htmlFor:n,className:"mb-2",children:t}),Object(I.jsxs)("div",{className:"input-group has-validation",children:[Object(I.jsx)("input",Object(j.a)({type:m?"text":s,id:n,value:r,name:n,onChange:p,className:"".concat(i?"form-control is-invalid":"form-control"," ")},o)),"password"===s&&Object(I.jsx)("span",{className:"btn btn-outline-secondary ",type:"button",onClick:function(){b((function(e){return!e}))},children:Object(I.jsx)("i",{className:m?"bi bi-eye":"bi bi-eye-slash"})}),i&&Object(I.jsx)("div",{className:"invalid-feedback text-danger",children:i})]})]})}L.defaultProps={type:"text"};var P=c.a.memo(L),A=["label","placeholder","name","onChange","value","rows","error"];var Q=function(e){var t=e.label,n=e.placeholder,a=e.name,c=e.onChange,r=e.value,s=e.rows,i=void 0===s?3:s,o=e.error,l=Object(E.a)(e,A);return Object(I.jsxs)("div",{className:"my-3",children:[Object(I.jsx)("label",{htmlFor:a,className:"mb-3",children:t}),Object(I.jsxs)("div",{className:"form-floating ",children:[Object(I.jsx)("textarea",Object(j.a)({className:"".concat(o?"form-control p-1 is-invalid":"form-control p-1"," "),placeholder:n,id:a,style:{height:24*i+"px"},value:r,onChange:function(e){var t=e.target;c({name:t.id,value:t.value})}},l)),o&&Object(I.jsx)("div",{className:"invalid-feedback text-danger",children:o})]})]})},Y=["defaultOption","onChangeHandle","options","label","value","error","name"];function G(e){var t=e.defaultOption,n=e.onChangeHandle,a=e.options,c=e.label,r=e.value,s=e.error,i=e.name,o=Object(E.a)(e,Y),l=Array.isArray(a)||"object"!==typeof a?a.map((function(e){return{name:e.value,id:e._id,key:e._id}})):Object.keys(a).map((function(e){return{name:e,value:a[e].value,key:a[e]._id}}));return"object"===typeof r&&(r=r._id),Object(I.jsxs)("div",{className:"d-flex flex-column mt-3",children:[Object(I.jsx)("label",{htmlFor:"validationCustom04",className:"form-label",children:c}),Object(I.jsxs)("select",Object(j.a)(Object(j.a)({className:"".concat(s?"form-select is-invalid":"form-select"," "),id:"validationCustom04",value:r,onChange:function(e){var t=e.target;n({name:t.name,value:t.value})},name:i},o),{},{children:[Object(I.jsx)("option",{disabled:!0,value:"",children:t}),l&&l.map((function(e){return Object(I.jsx)("option",{value:e.name,children:e.name},e.id)}))]})),s&&Object(I.jsx)("div",{className:"invalid-feedback",children:s})]})}G.defaultOption={error:"Please select something"};var M=G,J={get:function(){var e=Object(u.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.get("/types");case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},K=J,W=c.a.createContext(),z=function(){return Object(a.useContext)(W)},V=function(e){var t=e.children,n=Object(a.useState)([]),c=Object(d.a)(n,2),r=c[0],s=c[1],i=Object(a.useState)(!1),o=Object(d.a)(i,2),l=o[0],j=o[1],m=Object(a.useState)(null),p=Object(d.a)(m,2),x=p[0],h=p[1];function O(){return v.apply(this,arguments)}function v(){return(v=Object(u.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,j(!0),e.next=4,K.get();case 4:t=e.sent,s(t),j(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),j(!1),w(e.t0.response.data.message);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function y(){return(y=Object(u.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,j(!0),e.next=4,g.post("/createtype",{type:t.trim()});case 4:return n=e.sent,f.b.success(n.data.message),j(!1),201===n.status&&O(),e.abrupt("return",n);case 11:e.prev=11,e.t0=e.catch(0),e.t0&&(j(!1),w(e.t0.response.data.message),console.log(e.t0.response));case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function w(e){e&&(h(e),j(!1))}return Object(a.useEffect)((function(){return O(),function(){return j(!1)}}),[]),Object(a.useEffect)((function(){null!==x&&(f.b.error(x,{position:"top-center",autoClose:4e3,closeOnClick:!0,draggable:!0,progress:void 0}),h(null))}),[x]),Object(I.jsx)(W.Provider,{value:{types:r,loading:l,createTypeInDB:function(e){return y.apply(this,arguments)},getTypes:O},children:t})};var X=function(e){var t=e.show,n=e.onHide,c=e.title,r=e.cancelButtonText,s=e.confirmButtonText,i=e.sumbitHandler,o=e.loading,l=e.defaultData,m=Object(a.useState)(l||{title:"",itemType:"",price:"",quantity:"",imgURL:"",description:""}),p=Object(d.a)(m,2),f=p[0],h=p[1],O=Object(a.useState)({}),v=Object(d.a)(O,2),g=v[0],y=v[1],w=z().types,N=function(){var e=Object(u.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(t);case 2:201!==(a=e.sent).status&&200!==a.status||setTimeout((function(){n(!1)}),500);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(e){var t=e.name,n=e.value;if(("price"===t||"quantity"===t)&&n<=0)return 1;h((function(e){return Object(j.a)(Object(j.a)({},e),{},Object(H.a)({},t,n))}))},k=Object(a.useCallback)((function(e){var t=U(e,q);return y(t),0===Object.keys(t).length}),[]);Object(a.useEffect)((function(){k(f)}),[f,k]);var S=0===Object.keys(g).length;return Object(I.jsxs)(D.a,{show:t,onHide:n,children:[Object(I.jsx)(D.a.Header,{children:Object(I.jsx)(D.a.Title,{children:c})}),Object(I.jsxs)(D.a.Body,{children:[Object(I.jsx)(P,{label:"Title",name:"title",onChange:C,value:f.title,error:g.title}),Object(I.jsx)(M,{label:"Type",options:w,defaultOption:"Choose type...",value:f.itemType,error:g.type,onChangeHandle:C,name:"itemType"}),Object(I.jsx)(Q,{label:"Description",name:"description",onChange:C,value:f.description,error:g.description}),Object(I.jsx)(P,{label:"Price",name:"price",onChange:C,value:f.price,error:g.price,type:"number"}),Object(I.jsx)(P,{label:"Quantity",name:"quantity",onChange:C,value:f.quantity,error:g.quantity,type:"number"}),Object(I.jsx)(P,{label:"Image URL",name:"imgURL",onChange:C,value:f.imgURL,error:g.imgURL})]}),Object(I.jsxs)(D.a.Footer,{children:[Object(I.jsx)(x.a,{variant:"outline-warning",className:"text-dark",onClick:n,children:r}),Object(I.jsx)(x.a,{variant:"outline-success",className:"text-dark",disabled:!S||o,onClick:function(){N(f)},children:s})]})]})};function Z(e){var t=e.i,n=e.item,c=Object(a.useState)(!1),r=Object(d.a)(c,2),s=r[0],i=r[1],m=Object(a.useState)(!1),f=Object(d.a)(m,2),h=f[0],O=f[1],v=n._id,g=n.price,y=n.imgURL,w=n.quantity,N=n.title,C=n.itemType,k=B(),S=k.updateItemInDB,T=k.loading,R=Object(j.a)(Object(j.a)({},n),{},{price:String(n.price),quantity:String(n.quantity)}),D=function(){var e=Object(u.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S(v,t);case 3:return n=e.sent,e.abrupt("return",n);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(I.jsxs)(o.a,{className:"border my-2 mx-3 align-items-center justify-content-center",children:[Object(I.jsx)(l.a,{md:1,className:"d-flex align-items-center justify-content-center mt-4 mt-md-0",children:t+1}),Object(I.jsx)(l.a,{md:2,className:"d-flex align-items-center justify-content-center fw-bold",children:N}),Object(I.jsx)(l.a,{md:2,className:"d-flex align-items-center justify-content-center",children:C}),Object(I.jsx)(l.a,{md:2,className:"d-flex align-items-center justify-content-center",children:g}),Object(I.jsx)(l.a,{md:1,className:"d-flex align-items-center justify-content-center",children:w}),Object(I.jsx)(l.a,{md:2,sm:5,xs:8,className:"d-flex align-items-center justify-content-center ",children:Object(I.jsx)(p.a,{src:y,fluid:!0,alt:N})}),Object(I.jsx)(l.a,{md:2,className:"d-flex align-items-center justify-content-center p-0 m-md-0 mb-4",children:Object(I.jsxs)("div",{className:"d-flex flex-row flex-md-column justify-content-center",children:[Object(I.jsx)(x.a,{variant:"warning",className:"m-1",onClick:function(){return O(!0)},children:"Update item"}),Object(I.jsx)(x.a,{variant:"danger",className:"m-1",onClick:function(){return i(!0)},children:"Delete item"})]})}),s&&Object(I.jsx)(_,{show:s,title:"Please confirm action",body:"Are you sure you want to delete ".concat(N,"?"),onHide:function(){return i(!1)},cancelButtonText:"Cancel",confirmButtonText:"Delete item",id:v}),h&&Object(I.jsx)(X,{show:h,onHide:function(){O(!1)},title:"Update item",cancelButtonText:"Cancel",confirmButtonText:"Update",defaultData:R,sumbitHandler:D,loading:T})]},v)}var $=c.a.memo(Z);var ee=function(){return Object(I.jsxs)(o.a,{className:"border d-none d-md-flex mx-3",children:[Object(I.jsx)(l.a,{md:1,className:"d-flex justify-content-center ",children:"id"}),Object(I.jsx)(l.a,{md:2,className:"d-flex align-items-center justify-content-center",children:"Title"}),Object(I.jsx)(l.a,{md:2,className:"d-flex align-items-center justify-content-center",children:"Type"}),Object(I.jsx)(l.a,{md:2,className:"d-flex align-items-center justify-content-center",children:"Price"}),Object(I.jsx)(l.a,{md:1,className:"d-flex align-items-center justify-content-center",children:"Quantity"}),Object(I.jsx)(l.a,{md:2,className:"d-flex align-items-center justify-content-center",children:"ImageUrl"}),Object(I.jsx)(l.a,{md:2,className:"d-flex align-items-center justify-content-center",children:"Actions"})]})},te=n.p+"static/media/loader.6fdf6f7f.gif";var ne=function(){return Object(I.jsx)("div",{className:"d-flex align-items-center justify-content-center",style:{height:"calc(100vh - 68px)"},children:Object(I.jsx)("img",{src:te,alt:"loader",className:"h-25"})})};var ae=function(){var e=B(),t=e.items;return e.loading?Object(I.jsx)(ne,{}):Object(I.jsxs)("div",{children:[Object(I.jsx)(ee,{}),t.map((function(e,t){return Object(I.jsx)($,{i:t,item:e},e._id)}))]})};var ce=function(){var e=Object(a.useState)(!1),t=Object(d.a)(e,2),n=t[0],c=t[1],r=B(),s=r.createItemInDB,i=r.loading,o=function(){var e=Object(u.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s(t);case 3:return n=e.sent,e.abrupt("return",n);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(I.jsxs)("div",{children:[Object(I.jsx)(x.a,{variant:"success",onClick:function(){return c(!0)},children:"Create Item"}),n&&Object(I.jsx)(X,{show:n,onHide:function(){c(!1)},loading:i,sumbitHandler:o,title:"Create a new item in store",cancelButtonText:"Cancel",confirmButtonText:"Create!"})]})};var re=function(e){var t=e.show,n=e.onHide,c=e.title,r=e.cancelButtonText,s=e.confirmButtonText,i=Object(a.useState)({type:""}),o=Object(d.a)(i,2),l=o[0],m=o[1],p=Object(a.useState)({}),f=Object(d.a)(p,2),h=f[0],O=f[1],v=z(),g=v.loading,y=v.createTypeInDB,w=Object(a.useCallback)((function(e){m((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(H.a)({},e.name,e.value))}))}),[]),N=Object(a.useCallback)((function(e){var t=U(e,q);return O(t),0===Object.keys(t).length}),[]),C=function(){var e=Object(u.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(t);case 2:201===e.sent.status&&setTimeout((function(){n()}),700);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){N(l)}),[l,N]),console.log("render");var k=0===Object.keys(h).length;return Object(I.jsxs)(D.a,{show:t,onHide:n,children:[Object(I.jsx)(D.a.Header,{children:Object(I.jsx)(D.a.Title,{children:c})}),Object(I.jsx)(D.a.Body,{children:Object(I.jsx)(P,{name:"type",onChange:w,value:l.type,error:h.type})}),Object(I.jsxs)(D.a.Footer,{children:[Object(I.jsx)(x.a,{variant:"outline-warning",className:"text-dark",onClick:n,children:r}),Object(I.jsx)(x.a,{variant:"outline-success",className:"text-dark",disabled:!k||g,onClick:function(){return C(l.type)},children:s})]})]})};var se=function(){var e=Object(a.useState)(!1),t=Object(d.a)(e,2),n=t[0],c=t[1];return Object(I.jsxs)("div",{children:[Object(I.jsx)(x.a,{variant:"success",onClick:function(){return c(!0)},children:"Create Type"}),n&&Object(I.jsx)(re,{show:n,onHide:function(){c(!1)},title:"Create a new type in store",cancelButtonText:"Cancel",confirmButtonText:"Create!"})]})};var ie=function(){return Object(I.jsxs)(o.a,{className:"m-2 p-0 m-sm-2 m-xs-2",children:[Object(I.jsx)(l.a,{md:6,sm:6,xs:6,className:"d-flex align-items-center justify-content-center my-sm-2",children:Object(I.jsx)(se,{})}),Object(I.jsx)(l.a,{md:6,sm:6,xs:6,className:"d-flex align-items-center justify-content-center  my-sm-2",children:Object(I.jsx)(ce,{})})]})},oe=function(){return Object(I.jsxs)(o.a,{className:"p-2 m-0",children:[Object(I.jsx)(l.a,{md:12,className:" p-0 m-0 my-2",children:Object(I.jsx)(ie,{})}),Object(I.jsx)(l.a,{md:12,className:" ",children:Object(I.jsx)(ae,{})})]})},le=n(128),ue=n(12),je=n(125),de="/",me="/admin",be="/login",pe="/cart",xe="/registration",fe="/error",he="/thankyou",Oe="$";var ve=function(e){var t=e.show,n=e.onHide,a=e.title,c=e.body,r=e.cancelButtonText,s=e.confirmButtonText,i=e.redirect,o=void 0===i?null:i;return Object(I.jsxs)(D.a,{show:t,onHide:n,children:[Object(I.jsx)(D.a.Header,{children:Object(I.jsx)(D.a.Title,{children:a})}),Object(I.jsx)(D.a.Body,{children:Object(I.jsx)("h5",{children:c})}),Object(I.jsxs)(D.a.Footer,{children:[Object(I.jsx)(x.a,{variant:"outline-warning",className:"text-dark",onClick:n,children:r}),Object(I.jsx)(x.a,{variant:"outline-primary",className:"text-dark",onClick:function(){n(),o()},children:s})]})]})};var ge=function(e){var t=e._id,n=e.price,c=e.imgURL,r=e.title,s=e.deleteHandler,i=e.quantity,j=e.decrementCartItemQuantity,m=e.incrementCartItemQuantity,f=e.loading,h=e.userId,O=Object(a.useState)(!1),v=Object(d.a)(O,2),g=v[0],y=v[1],w=Object(a.useState)(i),N=Object(d.a)(w,2),C=N[0],k=N[1],S=function(){var e=Object(u.a)(b.a.mark((function e(t,n,a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k((function(e){return e+1})),m(t,n,a);case 2:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}();return Object(I.jsxs)("div",{className:"p-3 shadow",children:[Object(I.jsxs)(o.a,{className:"d-flex align-items-center justify-content-center",children:[Object(I.jsx)(l.a,{xs:6,sm:4,lg:2,children:Object(I.jsx)(p.a,{src:c,fluid:!0})}),Object(I.jsxs)(l.a,{xs:12,sm:7,children:[Object(I.jsx)(o.a,{children:Object(I.jsxs)(l.a,{xs:12,children:[r,Object(I.jsx)("br",{}),"".concat(n," ").concat(Oe)]})}),Object(I.jsx)(o.a,{children:Object(I.jsxs)(l.a,{xs:12,className:"d-flex flex-column text-center justifu-content-center align-items-center mt-3 p-0",children:["Quantity",Object(I.jsxs)("div",{className:"d-flex align-items-center justify-content-between p-2",children:[Object(I.jsx)(x.a,{onClick:function(){return function(e,t,n){if(!(C>1))return y(!0);k((function(e){return e-1})),j(e,t,n)}(h,t,i-1)},className:"btn btn-secondary",style:{width:40,height:40,borderRadius:20},disabled:f,children:Object(I.jsx)("i",{className:"bi bi-dash"})}),Object(I.jsx)(je.a.Control,{className:"text-center w-50",value:C,readOnly:!0}),Object(I.jsx)(x.a,{onClick:function(){return S(h,t,i+1)},className:" btn btn-secondary ",style:{width:40,height:40,borderRadius:20},disabled:f,children:Object(I.jsx)("i",{className:"bi bi-plus"})})]})]})})]}),Object(I.jsx)(l.a,{xs:12,sm:1,className:"d-flex align-items-center justify-content-center text-center text-danger",children:Object(I.jsx)("h3",{children:Object(I.jsx)("i",{className:"bi bi-trash ",role:"button",onClick:function(){y(!0)}})})})]}),g&&Object(I.jsx)(ve,{show:g,onHide:function(){y(!1)},title:"You deleting item from cart!",body:"Are you shure?",cancelButtonText:"Keep item",confirmButtonText:"Delete!",redirect:function(){return s(t)}})]})},ye=n(123),we=n(70),Ne=n(71),Ce=n(72),ke=n(79),Se=n(74),Ie=n.n(Se),Te=function(e){Object(Ce.a)(n,e);var t=Object(ke.a)(n);function n(){return Object(we.a)(this,n),t.apply(this,arguments)}return Object(Ne.a)(n,[{key:"render",value:function(){var e=this,t=this.props.total;return Object(I.jsx)(Ie.a,{env:"sandbox",client:{sandbox:"Af31UX4r1rHO6tCzQy7QoqHj8nWxRw-JmgIRbb7TbVJrNs5hCKBcL_c9m66bcwdfbZsuWOxv_GEu-j6o",production:"YOUR-PRODUCTION-APP-ID"},currency:"USD",total:t,onError:function(e){console.log("Error!",e)},onSuccess:function(t){console.log("The payment was succeeded!",t),e.props.history.push(he),e.props.clearCart()},onCancel:function(e){console.log("The payment was cancelled!",e)}})}}]),n}(c.a.Component);var Be=function(e){var t=e.totlaPrice,n=e.history,a=e.cartItemsForOrder,c=function(e){return Math.fround(.08375*e).toFixed(2)},r=Number(function(e){return(e+Number(c(e))).toFixed(2)}(t)),s=B().clearCart;return Object(I.jsx)(le.a,{className:"shadow d-flex justify-content-center align-items-center",children:Object(I.jsxs)(ye.a,{className:"m-0 p-2",children:[Object(I.jsxs)(o.a,{children:[Object(I.jsx)(l.a,{md:6,sm:6,className:"m-0 p-0",children:Object(I.jsx)("p",{className:"text-secondary m-0 p-0",children:"Sub Total"})}),Object(I.jsx)(l.a,{md:6,sm:6,children:Object(I.jsxs)("p",{className:"fw-bold m-0 p-0",children:[t.toFixed(2)," ",Oe]})})]}),Object(I.jsxs)(o.a,{children:[Object(I.jsx)(l.a,{md:6,sm:6,children:Object(I.jsx)("p",{className:"text-secondary m-0 p-0",children:"Tax"})}),Object(I.jsx)(l.a,{md:6,sm:6,children:Object(I.jsxs)("p",{className:"fw-bold m-0 p-0",children:[c(t)," ",Oe]})})]}),Object(I.jsxs)(o.a,{children:[Object(I.jsx)(l.a,{md:6,sm:6,children:Object(I.jsx)("p",{className:"text-secondary m-0 p-0",children:"Delivery"})}),Object(I.jsx)(l.a,{md:6,sm:6,children:Object(I.jsx)("p",{className:"fw-bold m-0 p-0",children:"FREE"})})]}),Object(I.jsx)("hr",{}),Object(I.jsxs)(o.a,{children:[Object(I.jsx)(l.a,{md:6,sm:6,children:Object(I.jsx)("p",{className:"fw-bold",children:"Total "})}),Object(I.jsx)(l.a,{md:6,sm:6,children:Object(I.jsxs)("p",{className:"fw-bold m-0 p-0",children:[r," ",Oe]})})]}),Object(I.jsx)(o.a,{className:"d-flex justify-content-center mt-3",children:Object(I.jsx)(Te,{total:r,history:n,clearCart:s,className:"my-3",cartItemsForOrder:a})}),Object(I.jsxs)(o.a,{className:"mt-2",children:[Object(I.jsx)("p",{children:"* for Paypal checkout use credentials"}),Object(I.jsx)(l.a,{md:12,className:"fw-bold",children:"username : costumer111@gmail.com"}),Object(I.jsx)(l.a,{md:12,className:"fw-bold",children:"password : 1234567890"})]})]})})},Re=n(75),De={get:function(){var e=Object(u.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.get("/cart/"+t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),addItem:function(){var e=Object(u.a)(b.a.mark((function e(t,n){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.post("/cart/"+t+"/addItem",Object(j.a)({},n));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),deleteItemFromCart:function(){var e=Object(u.a)(b.a.mark((function e(t,n){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.delete("/cart/"+t+"/delete/"+n);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),clearCart:function(){var e=Object(u.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.put("/cart/"+t+"/clearcart");case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updateCartItemQuantity:function(){var e=Object(u.a)(b.a.mark((function e(t,n,a){var c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.put("/cart/"+t+"/"+n+"/update",{quantity:a});case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()},_e=De,He=c.a.createContext(),qe=function(){return Object(a.useContext)(He)},Ue=function(e){var t=e.children,n=Object(a.useState)({}),c=Object(d.a)(n,2),r=c[0],s=c[1],o=Object(a.useState)(!0),l=Object(d.a)(o,2),m=l[0],p=l[1],x=Object(a.useState)(null),h=Object(d.a)(x,2),O=h[0],v=h[1],y=Object(a.useState)(!1),w=Object(d.a)(y,2),N=w[0],C=w[1],k=Object(a.useState)([]),S=Object(d.a)(k,2),T=S[0],B=S[1],R=Object(i.g)();function D(){return _.apply(this,arguments)}function _(){return(_=Object(u.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,p(!0),!localStorage.getItem("token")){e.next=8;break}return e.next=5,g.get();case 5:G(t=e.sent),B(t.data.userCart.products);case 8:p(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),M(e.t0),C(!1);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function H(e){return q.apply(this,arguments)}function q(){return(q=Object(u.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),e.next=4,_e.get(t);case 4:n=e.sent,B(n.data.products),p(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),M(e.t0.response.data.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function U(){return(U=Object(u.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),e.next=4,_e.addItem(t,{_id:n._id,quantity:1,title:n.title,price:n.price,imgURL:n.imgURL});case 4:if(200!==e.sent.status){e.next=8;break}return e.next=8,H(r.id);case 8:p(!1),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),M(e.t0.response.data.message);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function E(){return(E=Object(u.a)(b.a.mark((function e(t,n){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),e.next=4,_e.deleteItemFromCart(t,n);case 4:return 200===(a=e.sent).status&&(T.filter((function(e){return e._id!==n})),H(r.id)),p(!1),e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(0),M(e.t0.response.data.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function F(){return(F=Object(u.a)(b.a.mark((function e(t,n,a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),e.next=4,_e.updateCartItemQuantity(t,n,a);case 4:if(200!==e.sent.status){e.next=9;break}return B(T.map((function(e){return e._id===n?Object(j.a)(Object(j.a)({},e),{},{quantity:e.quantity+1}):e}))),e.next=9,H(t);case 9:p(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),M(e.t0.response.data.message);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function L(){return(L=Object(u.a)(b.a.mark((function e(t,n,a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),e.next=4,_e.updateCartItemQuantity(t,n,a);case 4:if(200!==e.sent.status){e.next=9;break}return B(T.map((function(e){return e._id===n?Object(j.a)(Object(j.a)({},e),{},{quantity:e.quantity-1}):e}))),e.next=9,H(t);case 9:p(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),M(e.t0.response.data.message);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function P(){return(P=Object(u.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),e.next=4,_e.clearCart(t);case 4:200===(n=e.sent).status&&(B([]),f.b.success(n.data.message)),p(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),M(e.t0.response.data.message),p(!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function A(e){return Q.apply(this,arguments)}function Q(){return(Q=Object(u.a)(b.a.mark((function e(t){var n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),e.next=4,g.post(be,Object(j.a)({},t));case 4:n=e.sent,"USER"===G(n)&&(a=n.data.userCart.products,B(a)),R.push(de),p(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0),e.t0&&(M(e.t0.response.data.message),p(!1));case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function Y(){return(Y=Object(u.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),e.next=4,g.post("/register",Object(j.a)({},t));case 4:n=e.sent,p(!1),f.b.success(n.data.message),A(t),p(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0),e.t0&&(M(e.t0.response.data.message),p(!1));case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function G(e){var t=e.data.token,n=Object(Re.a)(t);return s(n),C(!0),p(!1),localStorage.setItem("token",t),n.role}function M(e){e&&(v(e),p(!1),C(!1)),v(null)}return Object(a.useEffect)((function(){null!==O&&(f.b.error(O,{position:"top-center",autoClose:4e3,closeOnClick:!0,draggable:!0,progress:void 0}),v(null))}),[O]),Object(a.useEffect)((function(){D()}),[]),Object(I.jsx)(He.Provider,{value:{loading:m,user:r,isAuth:N,loguotUser:function(){C(!1),p(!1),s({}),localStorage.clear()},loginUser:A,error:O,checkUser:D,registerUser:function(e){return Y.apply(this,arguments)},addItemToCart:function(e,t){return U.apply(this,arguments)},cartItems:T,deleteItemFromCartDB:function(e,t){return E.apply(this,arguments)},incrementCartItemQuantity:function(e,t,n){return F.apply(this,arguments)},decrementCartItemQuantity:function(e,t,n){return L.apply(this,arguments)},clearCart:function(e){return P.apply(this,arguments)},getCart:H,setCartItem:B},children:t})},Ee=function(){var e=Object(i.g)(),t=qe(),n=t.cartItems,a=t.deleteItemFromCartDB,c=t.incrementCartItemQuantity,r=t.decrementCartItemQuantity,s=t.clearCart,u=t.user,d=t.loading,m=function(e){a(u.id,e)},b=n.map((function(e){return e.quantity*e.price})).reduce((function(e,t){return e+t}),0);return Object(I.jsx)("div",{className:"text-center mt-3",children:0===n.length?Object(I.jsx)("div",{className:"d-flex justify-content-center align-items-center h-100",style:{minHeight:"calc(100vh - 76px)"},children:Object(I.jsxs)("h2",{children:["Your cart is empty. Go to ",Object(I.jsx)(ue.b,{to:de,children:"main page!"})]})}):Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(o.a,{className:"p-0 m-0 d-flex justifu-content-center align-items-center",children:Object(I.jsx)(l.a,{md:12,children:Object(I.jsx)(x.a,{className:"w-100 mb-3 p-0 text-dark",variant:"warning",onClick:function(){s(u.id)},disabled:d,children:"Clear Cart"})})}),Object(I.jsxs)(o.a,{className:"p-0 m-0 w-100",children:[Object(I.jsx)(l.a,{md:8,classname:"p-0",children:n.map((function(e){return Object(I.jsx)(le.a,{className:"mb-3",children:Object(I.jsx)(ge,Object(j.a)(Object(j.a)({},e),{},{deleteHandler:m,userId:u.id,incrementCartItemQuantity:c,decrementCartItemQuantity:r,loading:d}),e._id)},e._id)}))}),Object(I.jsx)(l.a,{md:4,className:"mb-3",children:0===b?Object(I.jsx)("h2",{children:"Nothing to pay yet"}):Object(I.jsx)(Be,{totlaPrice:b,history:e})})]})]})})};var Fe=function(e){var t=e.children,n=e.onSubmit,r=e.formData,s=Object(a.useState)({}||r),i=Object(d.a)(s,2),o=i[0],l=i[1],u=Object(a.useState)({}),m=Object(d.a)(u,2),b=m[0],p=m[1],x=Object(a.useCallback)((function(e){l((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(H.a)({},e.name,e.value))}))}),[]),f=Object(a.useCallback)((function(e){var t=U(e,q);return p(t),0===Object.keys(t).length}),[p]);Object(a.useEffect)((function(){Object.keys(o).length>0&&f(o)}),[o,f]);var h=0===Object.keys(b).length,O=c.a.Children.map(t,(function(e){var t=typeof e.type,n={};if("object"===t){if(!e.props.name)throw new Error("Name is required",e);n=Object(j.a)(Object(j.a)({},e.props),{},{onChange:x,value:o[e.props.name]||"",error:b[e.props.name]})}return"string"===t&&"button"===e.type&&("submit"!==e.props.type&&void 0!==e.props.type||(n=Object(j.a)(Object(j.a)({},e.props),{},{disabled:!h}))),c.a.cloneElement(e,n)}));return Object(I.jsx)("form",{onSubmit:function(e){e.preventDefault(),f()&&n(o)},children:O})};var Le=function(){var e=Object(i.h)(),t=qe(),n=t.loginUser,a=t.registerUser,c=t.loading,r="/login"===e.pathname;return c?Object(I.jsx)(ne,{}):Object(I.jsx)("div",{children:Object(I.jsx)(ye.a,{children:Object(I.jsx)(o.a,{className:"d-flex justify-content-center",children:Object(I.jsx)(l.a,{md:8,children:Object(I.jsxs)(le.a,{className:"p-3",children:[Object(I.jsx)("h2",{className:"m-auto",children:"Please ".concat(r?"Login":"Sign up")}),Object(I.jsxs)(Fe,{onSubmit:function(e){r?n(e):a(e)},children:[Object(I.jsx)(P,{label:"Your Email",name:"email"}),Object(I.jsx)(P,{label:"Your Password",type:"password",name:"password"}),Object(I.jsx)("div",{className:"d-flex justify-content-center justify-content-sm-end py-2 mt-3",children:Object(I.jsx)("div",{className:"col-12 col-sm-3 ms-auto",children:Object(I.jsx)("button",{type:"submit",className:"btn btn btn-warning w-100",disabled:c,children:r?"Login":"Sign Up"})})})]}),Object(I.jsx)(o.a,{children:Object(I.jsx)("div",{className:"d-flex justify-content-center ",children:Object(I.jsxs)("div",{children:[r?"Dont have an account?":"Already registered?",Object(I.jsx)(ue.c,{to:r?xe:be,style:{textDecoration:"none"},className:"ms-2 fw-bold",children:r?"Sign up":"Login"})]})})})]})})})})})},Pe=function(){return Object(I.jsx)(ye.a,{className:"pt-5",children:Object(I.jsx)(Le,{})})},Ae=function(){var e=Object(i.i)().id,t=Object(i.g)(),n=Object(a.useState)(!1),c=Object(d.a)(n,2),r=c[0],s=c[1],u=Object(a.useState)(!1),j=Object(d.a)(u,2),m=j[0],b=j[1],f=Object(a.useState)(!1),h=Object(d.a)(f,2),O=h[0],v=h[1],g=qe(),y=g.isAuth,w=g.addItemToCart,C=g.cartItems,k=g.user,S=Object(a.useState)({}),T=Object(d.a)(S,2),B=T[0],R=T[1];Object(a.useEffect)((function(){return v(!0),N.getItemById(e).then((function(e){R(e),v(!1)})),function(){return v(!1)}}),[e]);return Object(I.jsxs)(ye.a,{className:"p-4",children:[Object(I.jsxs)(le.a,{className:" shadow d-flex flex-column justify-content-center align-items-center",children:[Object(I.jsxs)(o.a,{style:{minHeight:"50vh"},className:"p-3 w-100",children:[Object(I.jsx)(l.a,{md:1,children:Object(I.jsx)(x.a,{variant:"outline-secondary",className:"rounded rounded-circle  ",onClick:function(){t.goBack()},children:Object(I.jsx)("i",{className:"bi bi-chevron-left"})})}),Object(I.jsx)(l.a,{md:5,className:"d-flex justify-content-center align-items-center mx-auto",children:Object(I.jsx)(p.a,{src:B.imgURL,fluid:!0})})]}),Object(I.jsxs)(o.a,{className:"text-center w-100",children:[Object(I.jsx)(l.a,{md:6,className:"d-flex flex-column  justify-content-center my-1 align-items-center ",children:Object(I.jsx)("h2",{children:B.title})}),Object(I.jsx)(l.a,{md:6,className:"d-flex flex-column  justify-content-center my-1 align-items-center ",children:Object(I.jsxs)("h2",{children:["Price : ",B.price,Oe]})})]}),Object(I.jsx)(o.a,{style:{textAlign:"justify"},children:Object(I.jsx)(l.a,{md:12,className:"d-flex flex-column p-3 justify-content-center w-100 align-items-center ",children:Object(I.jsx)("p",{className:"p-3",children:B.description})})}),Object(I.jsx)(o.a,{className:" px-5 py-2 w-100 d-flex  justify-content-center align-items-center",children:Object(I.jsx)(l.a,{md:4,className:"d-flex  justify-content-center align-items-center",children:Object(I.jsx)(x.a,{variant:"outline-warning",className:"text-dark w-100 mb-3",disabled:O,onClick:function(){y?function(e){if(C.find((function(t){return t._id===e._id})))return s(!0);w(k.id,e),b(!0)}(B):t.push(be)},children:"Add to cart"})})})]}),r&&Object(I.jsx)(ve,{show:r,onHide:function(){s(!1)},title:"Ooops...",body:"This item already in cart. Do you wish to continue shopping?",cancelButtonText:"Keep shopping",confirmButtonText:"Go to cart!",redirect:function(){t.push(pe)}}),m&&Object(I.jsx)(ve,{show:m,onHide:function(){b(!1)},title:"Success!",body:"You added item to cart. Do you wish to continue shopping?",cancelButtonText:"Keep shopping",confirmButtonText:"Go to cart!",redirect:function(){t.push(pe)}})]})};var Qe=function(e){var t=e.title,n=e.price,a=e.imgURL,c=e._id,r=Object(i.g)();return Object(I.jsx)(le.a,{className:"d-flex h-100 w-100  justify-content-center align-items-center shadow border border-2 item_in_list",style:{minHeight:"250px",borderRadius:15},role:"button",onClick:function(){r.push("/item/".concat(c))},children:Object(I.jsxs)(o.a,{className:"p-3 justify-content-center align-items-center w-100 h-100",children:[Object(I.jsx)(l.a,{xs:8,sm:8,md:8,className:"d-flex p-1 my-2",children:Object(I.jsx)(p.a,{src:a,fluid:!0,className:"p-1 "})}),Object(I.jsxs)(l.a,{md:12,sm:12,xs:6,className:"d-flex flex-column  justify-content-between align-items-center text-center",children:[Object(I.jsx)("h5",{children:t}),Object(I.jsxs)("p",{children:[" ","Price  ".concat(n).concat(Oe)]})]})]})})};var Ye=function(e){var t=e.type,n=e.search,c=B().items,r=function(e){return c.filter((function(t){return t.title.toLowerCase().replaceAll(" ","").includes(e.toLowerCase())}))}(n);return Object(I.jsx)(ye.a,{className:"d-flex flex-column ",children:Object(I.jsx)(o.a,{children:0===r.length?Object(I.jsx)("h2",{children:"'No items found'"}):t?r.filter((function(e){return e.itemType.toLowerCase().includes(t.toLowerCase())})).map((function(e){return Object(I.jsx)(l.a,{lg:3,md:4,sm:6,className:"py-3",children:Object(a.createElement)(Qe,Object(j.a)(Object(j.a)({},e),{},{key:e._id}))},e._id)})):r.map((function(e){return Object(I.jsx)(l.a,{lg:3,md:4,sm:6,className:"py-3",children:Object(a.createElement)(Qe,Object(j.a)(Object(j.a)({},e),{},{key:e._id}))},e._id)}))})})},Ge=Object(a.createContext)({search:"",setSearch:function(e){}});function Me(e){var t=Object(a.useState)(""),n=Object(d.a)(t,2),c=n[0],r=n[1];var s={search:c,setSearch:function(e){r(e)}};return Object(I.jsx)(Ge.Provider,{value:s,children:e.children})}var Je=Ge;function Ke(e,t){var n;return function(){var a=arguments,c=this,r=function(){e.apply(c,a)};clearTimeout(n),n=setTimeout(r,t)}}var We=function(){var e=Object(a.useContext)(Je),t=Object(a.useState)(""),n=Object(d.a)(t,2),c=n[0],r=n[1],s=Object(a.useRef)(),i=Object(a.useCallback)(Ke((function(e){r(e)}),500),[]);return Object(a.useEffect)((function(){return e.setSearch(c),function(){e.setSearch("")}}),[c]),Object(I.jsx)(I.Fragment,{children:Object(I.jsx)(ye.a,{className:"px-2 position-relative",children:Object(I.jsx)(o.a,{className:"d-flex justify-content-center align-items-center p-0",children:Object(I.jsxs)(je.a,{className:" my-2  position-relative  d-flex flex-row",children:[Object(I.jsx)(je.a.Control,{type:"text",placeholder:"Search",onChange:function(e){return i(e.target.value)},ref:s}),Object(I.jsx)(x.a,{className:"btn position-absolute top-50 end-0 translate-middle-y me-3 p-0",variant:"outline",onClick:function(){r(""),s.current.value=""},children:Object(I.jsx)("h2",{className:"m-0 p-0",children:Object(I.jsx)("i",{className:"  bi bi-x"})})})]})})})})},ze=n(129);function Ve(e){var t=e.setType,n=Object(a.useState)(),c=Object(d.a)(n,2),r=c[0],s=c[1],i=z().types,u=function(e){s(e),t(e)};return Object(I.jsx)(ye.a,{className:"px-2",children:Object(I.jsxs)(o.a,{className:"w-100 d-flex justify-content-center align-items-center m-0",children:[Object(I.jsx)(l.a,{md:9,className:"d-flex justify-content-between  text-center ",children:Object(I.jsx)(ze.a,{horizontal:"md",className:"w-100",children:i.map((function(e){return Object(I.jsx)(ze.a.Item,{role:"button",action:!0,variant:"light",className:r===e.value?"active":"",onClick:function(){return u(e.value)},children:e.value},e._id)}))})}),Object(I.jsx)(l.a,{md:3,children:Object(I.jsx)("div",{className:"d-flex flex-column my-2",children:Object(I.jsx)(x.a,{variant:"outline-warning",onClick:function(){return u(void 0)},className:"text-dark w-100",children:"Reset"})})})]})})}var Xe=c.a.memo(Ve),Ze=n(78),$e=n.p+"static/media/mac.88b9c92e.jpg";var et=function(){return Object(I.jsx)("div",{className:"d-flex justify-content-center align-items-center fw-bolt fs-3",style:{minHeight:"calc(100vh - 76px)"},children:Object(I.jsxs)("p",{children:["Oooops.... Something went wrong. Go to"," ",Object(I.jsx)(ue.b,{to:de,children:"Home page"})," "]})})};var tt=[{path:pe,Component:Ee},{path:he,Component:function(){return Object(I.jsx)(ye.a,{style:{minHeight:"calc(100vh - 76px)"},children:Object(I.jsx)(o.a,{children:Object(I.jsxs)(l.a,{md:12,className:"d-flex flex-column align-items-center justify-content-center text-center",children:[Object(I.jsx)("h2",{children:"Thank you"}),Object(I.jsxs)("p",{children:["We appreciate your purchase of our products. You will receive your goods in a matter of time. Hope you will enjoy it. Your"," ",Object(I.jsx)("b",{children:"RedFox-online"})," team"]}),Object(I.jsxs)("p",{children:["Go to ",Object(I.jsx)(ue.b,{to:de,children:"Main Page"})]})]})})})}},{path:"/settings",Component:function(){return Object(I.jsxs)(ye.a,{className:" justify-content-center align-items-center p-3 text-center",children:[Object(I.jsx)("h2",{children:"Your credentials"}),Object(I.jsx)(o.a,{children:Object(I.jsxs)(Fe,{onSumbit:function(e){console.log(e)},formData:{name:"user",email:"user@example.com",password:"password"},children:[Object(I.jsx)(P,{label:"Your Name",name:"name"}),Object(I.jsx)(P,{label:"Your Email",name:"email"}),Object(I.jsx)(P,{label:"Your Password",type:"password",name:"password"}),Object(I.jsx)("div",{className:"d-flex justify-content-center justify-content-sm-end py-2 mt-3",children:Object(I.jsx)("div",{className:"col-12 col-sm-3 ms-auto",children:Object(I.jsx)("button",{type:"submit",className:"btn btn btn-warning w-100",children:"Submit"})})})]})})]})}}],nt=[{path:me,Component:oe}],at=[{path:be,Component:Pe},{path:de,Component:function(){var e=Object(a.useState)(void 0),t=Object(d.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),s=Object(d.a)(r,2),i=s[0],u=s[1],j=Object(a.useContext)(Je),m=B().loading;return Object(a.useEffect)((function(){var e;return e=setTimeout((function(){u(!0)}),500),function(){clearTimeout(e)}})),m?Object(I.jsx)(ne,{}):Object(I.jsxs)("div",{className:"shop_page",children:[Object(I.jsx)("div",{className:"d-none d-lg-block",children:Object(I.jsxs)(Ze.Parallax,{bgImage:$e,bgImageAlt:"mac",strength:200,children:[Object(I.jsx)("div",{className:i?"parallax hide":"parallax",children:"The power of Mac"}),Object(I.jsx)("div",{style:{minHeight:"50vh",width:"100wv"}})]})}),Object(I.jsxs)(o.a,{className:"m-0 mt-3 p-2 align-items-center justify-content-center d-flex",children:[Object(I.jsx)(l.a,{md:12,children:Object(I.jsx)(Xe,{setType:function(e){return c(e)}})}),Object(I.jsxs)(l.a,{md:12,style:{minHeight:"100vh"},children:[Object(I.jsx)("div",{className:"d-md-none",children:Object(I.jsx)(We,{})}),Object(I.jsx)(Ye,{type:n,search:j.search})]})]})]})}},{path:xe,Component:Pe},{path:"/item/:id?",Component:Ae},{path:fe,Component:et}],ct=function(){var e=qe(),t=e.isAuth,n=e.user;return Object(I.jsxs)(i.d,{children:[t&&tt.map((function(e){var t=e.path,n=e.Component;return Object(I.jsx)(i.b,{path:t,exact:!0,children:Object(I.jsx)(n,{})},t)})),at.map((function(e){var t=e.path,n=e.Component;return Object(I.jsx)(i.b,{path:t,exact:!0,children:Object(I.jsx)(n,{})},t)})),t&&"ADMIN"===n.role&&nt.map((function(e){var t=e.path,n=e.Component;return Object(I.jsx)(i.b,{path:t,exact:!0,children:Object(I.jsx)(n,{})},t)})),Object(I.jsx)(i.a,{to:{pathname:fe,component:et}})]})},rt=n(126),st=n(127),it=n.p+"static/media/logo.97838c17.png",ot=n(33),lt=n.n(ot);function ut(){var e=Object(a.useState)(""),t=Object(d.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),s=Object(d.a)(r,2),i=s[0],u=s[1],j=B().items,m=Object(a.useRef)(null),b=function(e){return j.filter((function(t){return t.title.toLowerCase().replaceAll(" ","").includes(e.toLowerCase())}))},p=b(n);Object(a.useEffect)((function(){return b(n),function(){c("")}}),[]);var f=Object(a.useCallback)(Ke((function(e){c(e)}),500),[]),h=function(){return c(""),m.current.value=""},O=function(e){u(e&&e.target===m.current)};return Object(a.useEffect)((function(){return document.addEventListener("click",O),function(){document.removeEventListener("click",O)}}),[]),Object(I.jsxs)("div",{className:lt.a.dropdown,children:[Object(I.jsxs)(je.a,{className:" my-0 w-100  position-relative  d-flex flex-row",children:[Object(I.jsx)(je.a.Control,{type:"text",placeholder:"Search",ref:m,onClick:function(){u(!0)},onChange:function(e){return f(e.target.value)}}),Object(I.jsx)(x.a,{className:"btn position-absolute top-50 end-0 translate-middle-y me-1 p-0",variant:"outline",onClick:function(){h()},children:Object(I.jsx)("h2",{className:"m-0 p-0",children:Object(I.jsx)("i",{className:"  bi bi-x"})})})]}),i&&Object(I.jsx)("div",{className:i?"".concat(lt.a.active," ").concat(lt.a.options):lt.a.options,children:p.length>0?p.map((function(e){return Object(I.jsx)(ue.b,{to:"/item/".concat(e._id),onClick:function(){h()},style:{textDecoration:"none",color:"black",overflowX:"hidden"},children:Object(I.jsxs)(o.a,{className:" d-flex justify-content-center align-items-center w-100 m-0",children:[Object(I.jsx)(l.a,{md:4,className:"",children:Object(I.jsx)("img",{src:e.imgURL,className:"img-fluid ",alt:e.title})}),Object(I.jsx)(l.a,{md:8,className:"",children:Object(I.jsx)("div",{className:lt.a.option,children:e.title})})]})},e._id)})):Object(I.jsx)(o.a,{className:" d-flex justify-content-center align-items-center w-100",children:Object(I.jsx)(l.a,{md:12,children:Object(I.jsx)("div",{className:lt.a.option,children:"No items found..."})})})})]})}var jt=c.a.memo(ut),dt=function(){var e=qe(),t=e.user,n=e.isAuth,a=e.loguotUser;return Object(I.jsx)(rt.a,{bg:"dark",variant:"dark",expand:"md",className:"p-0",children:Object(I.jsxs)(ye.a,{children:[Object(I.jsxs)(o.a,{className:"d-flex justify-content-center align-items-center my-2 w-50",children:[Object(I.jsx)(l.a,{md:2,children:Object(I.jsx)(ue.c,{to:de,style:{color:"orange",textDecoration:"none"},children:Object(I.jsx)(p.a,{src:it,style:{height:"60px"}})})}),Object(I.jsx)(l.a,{md:10,className:" d-none d-md-block  ",children:Object(I.jsx)(jt,{})})]}),Object(I.jsx)(rt.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(I.jsx)(rt.a.Collapse,{id:"responsive-navbar-nav",className:"flex-grow-0",children:n?Object(I.jsxs)(st.a,{children:["ADMIN"===t.role&&n&&Object(I.jsx)(pt,{}),Object(I.jsx)("div",{className:"d-none d-md-flex justify-content-center align-items-center position-relative me-2",children:"USER"===t.role&&Object(I.jsx)(wt,{})}),Object(I.jsx)("div",{className:"d-flex d-md-none ",children:"USER"===t.role&&Object(I.jsx)(ft,{})}),Object(I.jsx)(Ot,{loguotUser:a})]}):Object(I.jsx)(st.a,{children:Object(I.jsx)(gt,{})})})]})})},mt=c.a.memo(dt);function bt(){return Object(I.jsx)(ue.c,{to:me,style:{color:"#FFC107",textDecoration:"none"},children:Object(I.jsx)(x.a,{className:"btn m-2",variant:"outline-warning",children:"Admin"})})}var pt=c.a.memo(bt);function xt(){var e=qe().cartItems;return Object(I.jsx)(ue.c,{to:"/cart",style:{color:"#FFC107",textDecoration:"none"},children:Object(I.jsxs)(x.a,{className:"position-relative btn m-2",variant:"outline-warning",children:["Cart",Object(I.jsx)("i",{className:"bi bi-bag-check ms-2"}),Object(I.jsxs)("span",{className:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger",children:[e.length,Object(I.jsx)("span",{className:"visually-hidden",children:"unread messages"})]})]})})}var ft=c.a.memo(xt);function ht(e){var t=e.loguotUser;return Object(I.jsx)(ue.c,{to:"/login",children:Object(I.jsx)(x.a,{className:"btn m-2",variant:"outline-warning",onClick:function(){t()},children:"Log out"})})}var Ot=c.a.memo(ht);function vt(){return Object(I.jsx)(ue.b,{to:"/login",children:Object(I.jsx)(x.a,{className:"btn m-2",variant:"outline-warning",children:"Login"})})}var gt=c.a.memo(vt);function yt(){var e=qe(),t=e.user,n=e.cartItems;return Object(I.jsx)("div",{className:"",children:Object(I.jsxs)("div",{className:"dropdown",children:[Object(I.jsxs)("button",{className:"btn btn-warning dropdown-toggle w-100",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:["Welcome ",null!==t&&void 0!==t&&t.name?t.name:"Guest "]}),n.length>0&&Object(I.jsxs)("span",{className:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger",children:[n.length,Object(I.jsx)("span",{className:"visually-hidden",children:"unread messages"})]}),Object(I.jsx)("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:Object(I.jsx)("li",{children:Object(I.jsx)(ue.b,{className:"w-100 dropdown-item",to:pe,children:"Cart"})})})]})})}var wt=c.a.memo(yt),Nt=mt,Ct=function(e){return Object(I.jsxs)("div",{children:[Object(I.jsx)(Nt,{}),Object(I.jsx)("div",{style:{minHeight:"calc(100vh - 76px"},children:e.children})]})};n(117);var kt=function(){return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(Ct,{children:Object(I.jsx)(ct,{})}),Object(I.jsx)(f.a,{})]})},St=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,130)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};n(66);s.a.render(Object(I.jsx)(ue.a,{children:Object(I.jsx)(Me,{children:Object(I.jsx)(Ue,{children:Object(I.jsx)(V,{children:Object(I.jsx)(R,{children:Object(I.jsx)(kt,{})})})})})}),document.getElementById("root")),St()},33:function(e,t,n){e.exports={dropdown:"Dropdown_dropdown__2FQ3Q",options:"Dropdown_options__2Sshe",active:"Dropdown_active__2Yjg1",option:"Dropdown_option__yK4DB"}},57:function(e,t,n){},67:function(e){e.exports=JSON.parse('{"apiEndpoint":"http://localhost:3000/auth"}')}},[[118,1,2]]]);
//# sourceMappingURL=main.c42e65df.chunk.js.map