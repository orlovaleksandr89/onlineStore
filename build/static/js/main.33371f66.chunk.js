(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{34:function(e,t,n){e.exports={dropdown:"Dropdown_dropdown__2FQ3Q",options:"Dropdown_options__2Sshe",active:"Dropdown_active__2Yjg1",option:"Dropdown_option__yK4DB"}},55:function(e,t,n){},84:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),s=n(23),r=n.n(s),i=n(9),o=n.n(i),l=n(13),j=n(5),u=(n(55),n(12)),d=n(87),b=n(59),m=n(8),O=function(){var e=Object(c.useState)(!1),t=Object(j.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(null),r=Object(j.a)(s,2),i=r[0],u=r[1],d=Object(c.useState)(null),b=Object(j.a)(d,2),m=b[0],O=b[1],x=Object(c.useCallback)(function(){var e=Object(l.a)(o.a.mark((function e(t){var n,c,s,r,i,l=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>1&&void 0!==l[1]?l[1]:"GET",c=l.length>2&&void 0!==l[2]?l[2]:null,s=l.length>3&&void 0!==l[3]?l[3]:{},a(!0),e.prev=4,c&&(c=JSON.stringify(c),s["Content-Type"]="application/json"),e.next=8,fetch(t,{method:n,body:c,headers:s});case 8:return r=e.sent,O(r),e.next=12,r.json();case 12:if(i=e.sent,r.ok){e.next=15;break}throw new Error(i.message||"\u0447\u0442\u043e\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a");case 15:return a(!1),e.abrupt("return",i);case 19:throw e.prev=19,e.t0=e.catch(4),a(!1),u(e.t0.message),e.t0;case 24:case"end":return e.stop()}}),e,null,[[4,19]])})));return function(t){return e.apply(this,arguments)}}(),[]);return{loading:n,request:x,error:i,clearError:function(){u(null)},responce:m}},x=n(88),h=n(86),f=n(90),p=n(30),v=n(1),g=Object(c.createContext)({isAuth:void 0,setAuth:function(e){},items:[],setItems:function(){},user:{email:"",password:"",role:void 0,id:void 0},setUser:function(e){},types:[],setTypes:function(e){},cart:[],addItemToCart:function(e){},deleteFromCart:function(e){},clearCart:function(){},incrementQty:function(e){},decrementQty:function(e){},error:"",setError:function(e){},search:"",setSearch:function(e){}});function y(e){var t=Object(c.useState)({}),n=Object(j.a)(t,2),a=n[0],s=n[1],r=Object(c.useState)([]),i=Object(j.a)(r,2),o=i[0],l=i[1],u=Object(c.useState)([]),d=Object(j.a)(u,2),b=d[0],O=d[1],x=Object(c.useState)(""),h=Object(j.a)(x,2),f=h[0],y=h[1],N=Object(c.useState)(""),C=Object(j.a)(N,2),w=C[0],k=C[1],S=Object(c.useState)([]),T=Object(j.a)(S,2),q=T[0],R=T[1],H=Object(c.useState)(!1),_=Object(j.a)(H,2),A=_[0],E=_[1];var B={isAuth:A,items:q,setItems:function(e){R((function(t){return[].concat(Object(p.a)(t),Object(p.a)(e))}))},deleteItem:function(e){R((function(t){return t.filter((function(t){return t.id!==e}))}))},setAuth:function(e){return E(e)},user:a,setUser:function(e){s(e)},types:o,setTypes:function(e){l(e.map((function(e){return{id:e._id,type:e.value}})))},addItemToCart:function(e){if(b.find((function(t){return t._id===e})))return b;var t=q.map((function(t){return t._id===e?Object(m.a)(Object(m.a)({},t),{},{qty:1}):t})),n=t.find((function(t){return t._id===e}));O((function(e){return[].concat(Object(p.a)(e),[n])}))},deleteFromCart:function(e){O(Object(p.a)(b.filter((function(t){return t._id!==e}))))},cart:b,incrementQty:function(e){var t=Object(p.a)(b);t.find((function(t){return t._id===e})).qty+=1,O(t)},decrementQty:function(e){var t=Object(p.a)(b),n=t.find((function(t){return t._id===e}));n.qty>0&&(n.qty-=1),O(t)},clearCart:function(){O([])},error:f,setError:function(e){y(e)},search:w,setSearch:function(e){k(e)}};return Object(v.jsx)(g.Provider,{value:B,children:e.children})}var N=g,C=n.p+"static/media/loader.6fdf6f7f.gif";var w=function(){return Object(v.jsx)("div",{className:"d-flex align-items-center justify-content-center",style:{height:"calc(100vh - 68px)"},children:Object(v.jsx)("img",{src:C,alt:"loader",className:"h-25"})})};var k=function(e){var t=e.show,n=e.onHide,a=e.title,s=e.body,r=e.cancelButtonText,i=e.confirmButtonText,u=e.id,d=O(),b=d.request,m=d.loading,x=Object(c.useState)(""),p=Object(j.a)(x,2),g=p[0],y=p[1],C=Object(c.useState)(""),k=Object(j.a)(C,2),S=k[0],T=k[1],q=Object(c.useContext)(N),R=function(){var e=Object(l.a)(o.a.mark((function e(t){var c,a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=localStorage.getItem("token"),e.next=4,b("/auth/deleteitem","POST",{id:t},{Authorization:"Bearer ".concat(c)});case 4:return a=e.sent,T(a.message),e.next=8,b("/items");case 8:s=e.sent,q.setItems(s),setTimeout((function(){return n()}),1e3),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),y(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}();return m?Object(v.jsx)(w,{}):Object(v.jsxs)(f.a,{show:t,onHide:n,children:[Object(v.jsx)(f.a.Header,{children:Object(v.jsx)(f.a.Title,{children:a})}),Object(v.jsxs)(f.a.Body,{children:[s,g&&Object(v.jsx)("div",{className:"text-danger",children:g}),S&&Object(v.jsx)("div",{className:"text-success",children:S})]}),Object(v.jsxs)(f.a.Footer,{children:[Object(v.jsx)(h.a,{variant:"outline-warning",className:"text-dark",onClick:n,children:r}),Object(v.jsx)(h.a,{variant:"outline-danger",className:"text-dark",disabled:m,onClick:function(){R(u)},children:i})]})]})};var S=function(e){var t=e._id,n=e.price,a=e.imgURL,s=e.quantity,r=e.title,i=e.itemType,o=e.i,l=Object(c.useState)(!1),u=Object(j.a)(l,2),m=u[0],O=u[1];return Object(v.jsxs)(d.a,{className:"border my-2 mx-3 align-items-center justify-content-center",children:[Object(v.jsx)(b.a,{md:1,className:"d-flex align-items-center justify-content-center mt-4 mt-md-0",children:o+1}),Object(v.jsx)(b.a,{md:2,className:"d-flex align-items-center justify-content-center",children:r}),Object(v.jsx)(b.a,{md:2,className:"d-flex align-items-center justify-content-center",children:i}),Object(v.jsx)(b.a,{md:2,className:"d-flex align-items-center justify-content-center",children:n}),Object(v.jsx)(b.a,{md:1,className:"d-flex align-items-center justify-content-center",children:s}),Object(v.jsx)(b.a,{md:2,sm:8,className:"d-flex align-items-center justify-content-center ",children:Object(v.jsx)(x.a,{src:a,fluid:!0,alt:r})}),Object(v.jsx)(b.a,{md:2,className:"d-flex align-items-center justify-content-center p-0 m-md-0 mb-4",children:Object(v.jsx)(h.a,{variant:"danger",onClick:function(){return O(!0)},children:"Delete item"})}),m&&Object(v.jsx)(k,{show:m,title:"Please confirm action",body:"Are you sure you want to delete ".concat(r,"?"),onHide:function(){return O(!1)},cancelButtonText:"Cancel",confirmButtonText:"Delete item",id:t})]},t)};var T=function(){return Object(v.jsxs)(d.a,{className:"border d-none d-md-flex mx-3",children:[Object(v.jsx)(b.a,{md:1,className:"d-flex justify-content-center ",children:"id"}),Object(v.jsx)(b.a,{md:2,className:"d-flex align-items-center justify-content-center",children:"Title"}),Object(v.jsx)(b.a,{md:2,className:"d-flex align-items-center justify-content-center",children:"Type"}),Object(v.jsx)(b.a,{md:2,className:"d-flex align-items-center justify-content-center",children:"Price"}),Object(v.jsx)(b.a,{md:1,className:"d-flex align-items-center justify-content-center",children:"Quantity"}),Object(v.jsx)(b.a,{md:2,className:"d-flex align-items-center justify-content-center",children:"ImageUrl"}),Object(v.jsx)(b.a,{md:2,className:"d-flex align-items-center justify-content-center",children:"Actions"})]})};var q=function(){var e=Object(c.useState)([]),t=Object(j.a)(e,2),n=t[0],a=t[1],s=O(),r=s.request,i=s.loading,u=Object(c.useContext)(N),d=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r("/items");case 2:t=e.sent,a(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){d()}),[u.items]),i?Object(v.jsx)(w,{}):Object(v.jsxs)("div",{children:[Object(v.jsx)(T,{}),n.map((function(e,t){return Object(v.jsx)(S,Object(m.a)({i:t},e),e._id)}))]})},R=n(26),H={email:{isRequired:{message:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u0430 \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"},isEmail:{message:"\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0432\u0430\u0448\u0435\u0433\u043e email"}},password:{isRequired:{message:"\u041f\u0430\u0440\u043e\u043b\u044c \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u0435\u043d \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"},isCapitalLetter:{message:"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0437\u0430\u0433\u043b\u0430\u043d\u0443\u044e \u0431\u0443\u043a\u0432\u0443"},isNumber:{message:"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0446\u044b\u0444\u0440\u0443"},min:{message:"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u043d\u0435 \u043c\u0435\u043d\u044c\u0448\u0435 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432",value:8}},profession:{isRequired:{message:"\u041f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u044f \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u0430 \u043a \u0432\u044b\u0431\u043e\u0440\u0443"}},licence:{isRequired:{message:"\u0412\u044b \u043d\u0435 \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043d\u0430\u0448 \u0441\u0435\u0440\u0432\u0438\u0441 \u0431\u0435\u0437 \u043f\u0440\u0438\u043d\u044f\u0442\u0438\u044f \u043b\u0438\u0446\u0435\u043d\u0437\u0438\u0438"}},name:{isRequired:{message:"\u0418\u043c\u044f \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"}},qualities:{isRequired:{message:"\u0412\u044b\u0431\u0438\u0440\u0435\u0442\u0435 \u0445\u043e\u0442\u044f \u0431 \u043e\u0434\u043d\u043e \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u043e"}},userId:{isRequired:{message:"\u0412\u044b\u0431\u0438\u0440\u0435\u0442\u0435 \u0445\u043e\u0442\u044f \u0431 \u043e\u0434\u043d\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}},content:{isRequired:{message:"\u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"}},type:{isRequired:{message:"\u041f\u043e\u043b\u0435 \u0442\u0438\u043f \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"}},price:{isRequired:{message:"\u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"},isNumber:{message:"\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0447\u0438\u0441\u043b\u043e\u043c"}},title:{isRequired:{message:"\u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"}},description:{isRequired:{message:"\u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"}},quantity:{isRequired:{message:"\u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"},isNumber:{message:"\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0447\u0438\u0441\u043b\u043e\u043c"}},imgURL:{isRequired:{message:"\u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"},isValidLink:{message:"\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0441\u0442\u044c URL"}}},_=function(e,t){var n={};function c(e,t,n){var c;switch(e){case"isRequired":try{c="boolean"===typeof t?!t:"object"===typeof t?0===Object.keys(t).length:Array.isArray(t)?0===t.length:""===t.trim()}catch(r){console.log(r.message)}break;case"isEmail":c=!/^\S+@\S+\.\S+$/g.test(t);break;case"isCapitalLetter":c=!/[A-Z]+/g.test(t);break;case"isNumber":c=!/\d+/g.test(t);break;case"min":c=t.length<n.value;break;case"isCorrectDate":c=Number(t.split("-")[0])>(new Date).getFullYear();break;case"isValidLink":c=!/^\S+:\/\/\S+\.\S+/g.test(t)}if(c)return n.message}for(var a in e)for(var s in t[a]){var r=c(s,e[a],t[a][s]);r&&!n[a]&&(n[a]=r)}return n},A=n(21),E=["label","name","onChange","value","type","error","success","httperror"];function B(e){var t=e.label,n=e.name,a=e.onChange,s=e.value,r=e.type,i=e.error,o=e.success,l=e.httperror,u=Object(A.a)(e,E),d=Object(c.useState)(!1),b=Object(j.a)(d,2),O=b[0],x=b[1],h=Object(c.useCallback)((function(e){var t=e.target;a({name:t.name,value:t.value})}),[a]);return Object(v.jsxs)("div",{className:"d-flex flex-column mt-3",children:[Object(v.jsx)("label",{htmlFor:n,className:"mb-2",children:t}),Object(v.jsxs)("div",{className:"input-group has-validation",children:[Object(v.jsx)("input",Object(m.a)({type:O?"text":r,id:n,value:s,name:n,onChange:h,className:"".concat(i?"form-control is-invalid":"form-control"," ")},u)),"password"===r&&Object(v.jsx)("span",{className:"btn btn-outline-secondary ",type:"button",onClick:function(){x((function(e){return!e}))},children:Object(v.jsx)("i",{className:O?"bi bi-eye":"bi bi-eye-slash"})}),i&&Object(v.jsx)("div",{className:"invalid-feedback text-danger",children:i})]}),l&&Object(v.jsx)("div",{className:"text-danger",children:l}),o&&Object(v.jsx)("div",{className:"text-success",children:o})]})}B.defaultProps={type:"text"};var L=a.a.memo(B),F=["label","placeholder","name","onChange","value","rows","error"];var I=function(e){var t=e.label,n=e.placeholder,c=e.name,a=e.onChange,s=e.value,r=e.rows,i=void 0===r?3:r,o=e.error,l=Object(A.a)(e,F);return Object(v.jsxs)("div",{className:"my-3",children:[Object(v.jsx)("label",{htmlFor:c,className:"mb-3",children:t}),Object(v.jsxs)("div",{className:"form-floating ",children:[Object(v.jsx)("textarea",Object(m.a)({className:"".concat(o?"form-control p-1 is-invalid":"form-control p-1"," "),placeholder:n,id:c,style:{height:24*i+"px"},value:s,onChange:function(e){var t=e.target;a({name:t.id,value:t.value})}},l)),o&&Object(v.jsx)("div",{className:"invalid-feedback text-danger",children:o})]})]})},P=["defaultOption","onChangeHandle","options","label","value","error","name"];function D(e){var t=e.defaultOption,n=e.onChangeHandle,c=e.options,a=e.label,s=e.value,r=e.error,i=e.name,o=Object(A.a)(e,P),l=Array.isArray(c)||"object"!==typeof c?c.map((function(e){return{name:e.type,id:e.id,key:e.id}})):Object.keys(c).map((function(e){return{name:e,value:c[e].value,key:c[e].id}}));return"object"===typeof s&&(s=s.id),Object(v.jsxs)("div",{className:"d-flex flex-column mt-3",children:[Object(v.jsx)("label",{htmlFor:"validationCustom04",className:"form-label",children:a}),Object(v.jsxs)("select",Object(m.a)(Object(m.a)({className:"".concat(r?"form-select is-invalid":"form-select"," "),id:"validationCustom04",value:s,onChange:function(e){var t=e.target;n({name:t.name,value:t.value})},name:i},o),{},{children:[Object(v.jsx)("option",{disabled:!0,value:"",children:t}),l&&l.map((function(e){return Object(v.jsx)("option",{value:e.name,children:e.name},e.id)}))]})),r&&Object(v.jsx)("div",{className:"invalid-feedback",children:r})]})}D.defaultOption={error:"Please select something"};var U=D;var Q=function(e){var t=e.show,n=e.onHide,a=e.title,s=e.cancelButtonText,r=e.confirmButtonText,i=Object(c.useContext)(N),u=Object(c.useState)({title:"",type:"",price:"",quantity:"",imgURL:"",description:""}),d=Object(j.a)(u,2),b=d[0],x=d[1],p=Object(c.useState)({}),g=Object(j.a)(p,2),y=g[0],C=g[1],w=O(),k=w.request,S=w.loading,T=Object(c.useState)({}),q=Object(j.a)(T,2),A=q[0],E=q[1],B=Object(c.useState)({}),F=Object(j.a)(B,2),P=F[0],D=F[1],Q=function(e){var t=e.name,n=e.value;if(E({}),D({}),("price"===t||"quantity"===t)&&n<=0)return 1;x((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(R.a)({},t,n))}))},Y=Object(c.useCallback)((function(e){var t=_(e,H);return C(t),0===Object.keys(t).length}),[]);Object(c.useEffect)((function(){Y(b)}),[b,Y]);var G=0===Object.keys(y).length,z=function(){var e=Object(l.a)(o.a.mark((function e(t){var c,a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=localStorage.getItem("token"),e.next=4,k("/auth/createitem","POST",Object(m.a)({},t),{Authorization:"Bearer ".concat(c)});case 4:return a=e.sent,D(a),e.next=8,k("/items");case 8:s=e.sent,i.setItems(s),setTimeout((function(){return n()}),1e3),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),E(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsxs)(f.a,{show:t,onHide:n,children:[Object(v.jsx)(f.a.Header,{children:Object(v.jsx)(f.a.Title,{children:a})}),Object(v.jsxs)(f.a.Body,{children:[Object(v.jsx)(L,{label:"Title",name:"title",onChange:Q,value:b.title,error:y.title,httperror:A.message,success:P.message}),Object(v.jsx)(U,{label:"Type",options:i.types,defaultOption:"Choose type...",value:b.type,error:y.type,onChangeHandle:Q,name:"type"}),Object(v.jsx)(I,{label:"Description",name:"description",onChange:Q,value:b.description,error:y.description}),Object(v.jsx)(L,{label:"Price",name:"price",onChange:Q,value:b.price,error:y.price,type:"number"}),Object(v.jsx)(L,{label:"Quantity",name:"quantity",onChange:Q,value:b.quantity,error:y.quantity,type:"number"}),Object(v.jsx)(L,{label:"Image URL",name:"imgURL",onChange:Q,value:b.imgURL,error:y.imgURL})]}),Object(v.jsxs)(f.a.Footer,{children:[Object(v.jsx)(h.a,{variant:"outline-warning",className:"text-dark",onClick:n,children:s}),Object(v.jsx)(h.a,{variant:"outline-success",className:"text-dark",disabled:!G||S,onClick:function(){z(b)},children:r})]})]})};var Y=function(){var e=Object(c.useState)(!1),t=Object(j.a)(e,2),n=t[0],a=t[1];return Object(v.jsxs)("div",{children:[Object(v.jsx)(h.a,{variant:"success",onClick:function(){return a(!0)},children:"Create Item"}),n&&Object(v.jsx)(Q,{show:n,onHide:function(){a(!1)},title:"Create a new item in store",cancelButtonText:"Cancel",confirmButtonText:"Create!"})]})};var G=function(e){var t=e.show,n=e.onHide,a=e.title,s=e.cancelButtonText,r=e.confirmButtonText,i=Object(c.useState)({type:""}),u=Object(j.a)(i,2),d=u[0],b=u[1],x=Object(c.useState)({}),p=Object(j.a)(x,2),g=p[0],y=p[1],C=O(),w=C.request,k=C.loading,S=Object(c.useState)({}),T=Object(j.a)(S,2),q=T[0],A=T[1],E=Object(c.useState)({}),B=Object(j.a)(E,2),F=B[0],I=B[1],P=Object(c.useContext)(N),D=function(){var e=Object(l.a)(o.a.mark((function e(t){var c,a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=localStorage.getItem("token"),e.next=4,w("/auth/createtype","POST",{type:t.trim()},{Authorization:"Bearer ".concat(c)});case 4:return a=e.sent,I(a),e.next=8,w("/types");case 8:s=e.sent,P.setTypes(s),setTimeout((function(){return n()}),1e3),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),A(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),U=Object(c.useCallback)((function(e){var t=_(e,H);return y(t),0===Object.keys(t).length}),[]);Object(c.useEffect)((function(){U(d)}),[d,U]);var Q=0===Object.keys(g).length;return Object(v.jsxs)(f.a,{show:t,onHide:n,children:[Object(v.jsx)(f.a.Header,{children:Object(v.jsx)(f.a.Title,{children:a})}),Object(v.jsx)(f.a.Body,{children:Object(v.jsx)(L,{name:"type",onChange:function(e){var t=e.name,n=e.value;A({}),I({}),b((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(R.a)({},t,n))}))},value:d.type,error:g.type,httperror:q.message,success:F.message})}),Object(v.jsxs)(f.a.Footer,{children:[Object(v.jsx)(h.a,{variant:"outline-warning",className:"text-dark",onClick:n,children:s}),Object(v.jsx)(h.a,{variant:"outline-success",className:"text-dark",disabled:!Q||k,onClick:function(){return D(d.type)},children:r})]})]})};var z=function(){var e=Object(c.useState)(!1),t=Object(j.a)(e,2),n=t[0],a=t[1];return Object(v.jsxs)("div",{children:[Object(v.jsx)(h.a,{variant:"success",onClick:function(){return a(!0)},children:"Create Type"}),n&&Object(v.jsx)(G,{show:n,onHide:function(){a(!1)},title:"Create a new type in store",cancelButtonText:"Cancel",confirmButtonText:"Create!"})]})};var J=function(){return Object(v.jsxs)(d.a,{className:"m-2 p-0 m-sm-2 m-xs-2",children:[Object(v.jsx)(b.a,{md:6,sm:6,xs:6,className:"d-flex align-items-center justify-content-center my-sm-2",children:Object(v.jsx)(z,{})}),Object(v.jsx)(b.a,{md:6,sm:6,xs:6,className:"d-flex align-items-center justify-content-center  my-sm-2",children:Object(v.jsx)(Y,{})})]})},K=function(){return Object(v.jsxs)(d.a,{className:"p-2 m-0",children:[Object(v.jsx)(b.a,{md:12,className:" p-0 m-0 my-2",children:Object(v.jsx)(J,{})}),Object(v.jsx)(b.a,{md:12,className:" ",children:Object(v.jsx)(q,{})})]})},M=n(94),V=n(11),W=n(91),X="/",Z="/admin",$="/error",ee="/thankyou",te="$";var ne=function(e){var t=e.show,n=e.onHide,c=e.title,a=e.body,s=e.cancelButtonText,r=e.confirmButtonText,i=e.redirect,o=void 0===i?null:i;return Object(v.jsxs)(f.a,{show:t,onHide:n,children:[Object(v.jsx)(f.a.Header,{children:Object(v.jsx)(f.a.Title,{children:c})}),Object(v.jsx)(f.a.Body,{children:Object(v.jsx)("h5",{children:a})}),Object(v.jsxs)(f.a.Footer,{children:[Object(v.jsx)(h.a,{variant:"outline-warning",className:"text-dark",onClick:n,children:s}),Object(v.jsx)(h.a,{variant:"outline-primary",className:"text-dark",onClick:function(){n(),o()},children:r})]})]})};var ce=function(e){var t=e._id,n=e.price,a=e.imgURL,s=e.title,r=e.deleteHandler,i=e.qty,o=e.decrementQty,l=e.incrementQty,u=Object(c.useState)(!1),m=Object(j.a)(u,2),O=m[0],f=m[1];return Object(v.jsxs)("div",{className:"p-3 shadow",children:[Object(v.jsxs)(d.a,{className:"d-flex align-items-center justify-content-center",children:[Object(v.jsx)(b.a,{md:4,children:Object(v.jsx)(x.a,{src:a,fluid:!0})}),Object(v.jsxs)(b.a,{md:7,children:[Object(v.jsx)(d.a,{children:Object(v.jsxs)(b.a,{md:12,children:[s,Object(v.jsx)("br",{}),"".concat(n," ").concat(te)]})}),Object(v.jsx)(d.a,{children:Object(v.jsxs)(b.a,{md:12,className:"d-flex flex-column text-center justifu-content-center align-items-center mt-3 p-0",children:["Quantity",Object(v.jsxs)("div",{className:"d-flex align-items-center justify-content-between p-2",children:[Object(v.jsx)(h.a,{onClick:function(){o(t)},className:"btn btn-secondary",style:{width:50,borderRadius:25},children:Object(v.jsx)("i",{className:"bi bi-dash"})}),Object(v.jsx)(W.a.Control,{value:i,onChange:function(){}}),Object(v.jsx)(h.a,{onClick:function(){l(t)},className:" btn btn-secondary ",style:{width:50,borderRadius:25},children:Object(v.jsx)("i",{className:"bi bi-plus"})})]})]})})]}),Object(v.jsx)(b.a,{md:1,className:"d-flex align-items-center justify-content-center text-center text-danger",children:Object(v.jsx)("h3",{children:Object(v.jsx)("i",{className:"bi bi-trash ms-1",role:"button",onClick:function(){f(!0)}})})})]}),O&&Object(v.jsx)(ne,{show:O,onHide:function(){f(!1)},title:"You deleting item from cart!",body:"Are you shure?",cancelButtonText:"Keep item",confirmButtonText:"Delete!",redirect:function(){return r(t)}})]})},ae=n(89),se=n(60),re=n(61),ie=n(67),oe=n(66),le=n(62),je=n.n(le),ue=function(e){Object(ie.a)(n,e);var t=Object(oe.a)(n);function n(){return Object(se.a)(this,n),t.apply(this,arguments)}return Object(re.a)(n,[{key:"render",value:function(){var e=this;console.log();var t=this.props.total;return Object(v.jsx)(je.a,{env:"sandbox",client:{sandbox:"Af31UX4r1rHO6tCzQy7QoqHj8nWxRw-JmgIRbb7TbVJrNs5hCKBcL_c9m66bcwdfbZsuWOxv_GEu-j6o",production:"YOUR-PRODUCTION-APP-ID"},currency:"USD",total:t,onError:function(e){console.log("Error!",e)},onSuccess:function(t){console.log("The payment was succeeded!",t),e.props.history.push(ee),e.props.clearCart()},onCancel:function(e){console.log("The payment was cancelled!",e)}})}}]),n}(a.a.Component);var de=function(e){var t=e.totlaPrice,n=e.history,a=function(e){return Math.fround(.08375*e).toFixed(2)},s=Number(function(e){return(e+Number(a(e))).toFixed(2)}(t)),r=Object(c.useContext)(N);return Object(v.jsx)(M.a,{className:"shadow d-flex justify-content-center align-items-center",children:Object(v.jsxs)(ae.a,{className:"m-0 p-2",children:[Object(v.jsxs)(d.a,{children:[Object(v.jsx)(b.a,{md:6,sm:6,className:"m-0 p-0",children:Object(v.jsx)("p",{className:"text-secondary m-0 p-0",children:"Your total"})}),Object(v.jsx)(b.a,{md:6,sm:6,children:Object(v.jsxs)("p",{className:"fw-bold m-0 p-0",children:[t.toFixed(2)," ",te]})})]}),Object(v.jsxs)(d.a,{children:[Object(v.jsx)(b.a,{md:6,sm:6,children:Object(v.jsx)("p",{className:"text-secondary m-0 p-0",children:"VAT"})}),Object(v.jsx)(b.a,{md:6,sm:6,children:Object(v.jsxs)("p",{className:"fw-bold m-0 p-0",children:[a(t)," ",te]})})]}),Object(v.jsxs)(d.a,{children:[Object(v.jsx)(b.a,{md:6,sm:6,children:Object(v.jsx)("p",{className:"text-secondary m-0 p-0",children:"Delivery"})}),Object(v.jsx)(b.a,{md:6,sm:6,children:Object(v.jsx)("p",{className:"fw-bold m-0 p-0",children:"FREE"})})]}),Object(v.jsx)("hr",{}),Object(v.jsxs)(d.a,{children:[Object(v.jsx)(b.a,{md:6,sm:6,children:Object(v.jsx)("p",{children:"Subtotal "})}),Object(v.jsx)(b.a,{md:6,sm:6,children:Object(v.jsxs)("p",{className:"fw-bold m-0 p-0",children:[s," ",te]})})]}),Object(v.jsx)(d.a,{className:"d-flex justify-content-center mt-3",children:Object(v.jsx)(ue,{total:s,history:n,clearCart:r.clearCart,className:"my-3"})}),Object(v.jsxs)(d.a,{className:"mt-2",children:[Object(v.jsx)("p",{children:"* for Paypal checkout use credentials"}),Object(v.jsx)(b.a,{md:12,className:"fw-bold",children:"username : costumer111@gmail.com"}),Object(v.jsx)(b.a,{md:12,className:"fw-bold",children:"password : 1234567890"})]})]})})},be=function(){var e=Object(u.g)(),t=Object(c.useContext)(N),n=t.cart,a=Object(c.useState)(n),s=Object(j.a)(a,2),r=s[0],i=s[1],o=function(e){t.deleteFromCart(e)};Object(c.useEffect)((function(){return i(n),function(){i([])}}),[n]);var l=r.map((function(e){return e.qty*e.price})).reduce((function(e,t){return e+t}),0);return Object(v.jsx)("div",{className:" text-center mt-4",children:0===r.length?Object(v.jsxs)("h2",{children:["Your cart is empty. Go to ",Object(v.jsx)(V.b,{to:X,children:"main page!"})]}):Object(v.jsxs)(d.a,{className:" p-0 m-0 w-100",children:[Object(v.jsx)(b.a,{md:8,classname:"p-0",children:r.map((function(e){return Object(v.jsx)(M.a,{className:"mb-3",children:Object(v.jsx)(ce,Object(m.a)(Object(m.a)({},e),{},{deleteHandler:o,incrementQty:t.incrementQty,decrementQty:t.decrementQty}),e._id)},e._id)}))}),Object(v.jsx)(b.a,{md:4,className:"mb-3",children:0===l?Object(v.jsx)("h2",{children:"Nothing to pay yet"}):Object(v.jsx)(de,{totlaPrice:l,history:e})})]})})},me=n(31);var Oe=function(e){var t=e.children,n=e.onSubmit,s=e.setHttperror,r=Object(c.useState)({}),i=Object(j.a)(r,2),o=i[0],l=i[1],u=Object(c.useState)({}),d=Object(j.a)(u,2),b=d[0],O=d[1],x=Object(c.useCallback)((function(e){l((function(t){return Object(m.a)(Object(m.a)({},t),{},Object(R.a)({},e.name,e.value))})),s({})}),[s]),h=Object(c.useCallback)((function(e){var t=_(e,H);return O(t),0===Object.keys(t).length}),[O]);Object(c.useEffect)((function(){Object.keys(o).length>0&&h(o)}),[o,h]);var f=0===Object.keys(b).length,p=a.a.Children.map(t,(function(e){var t=typeof e.type,n={};if("object"===t){if(!e.props.name)throw new Error("Name is required",e);n=Object(m.a)(Object(m.a)({},e.props),{},{onChange:x,value:o[e.props.name]||"",error:b[e.props.name]})}return"string"===t&&"button"===e.type&&("submit"!==e.props.type&&void 0!==e.props.type||(n=Object(m.a)(Object(m.a)({},e.props),{},{disabled:!f}))),a.a.cloneElement(e,n)}));return Object(v.jsx)("form",{onSubmit:function(e){e.preventDefault(),h()&&n(o)},children:p})};var xe=function(){var e=Object(u.g)(),t=Object(c.useContext)(N),n=O(),a=n.request,s=n.loading,r=Object(c.useState)({}),i=Object(j.a)(r,2),x=i[0],h=i[1],f=Object(c.useState)({}),p=Object(j.a)(f,2),g=p[0],y=p[1],C=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a("/auth/register","POST",Object(m.a)({},t));case 3:n=e.sent,h(n),w(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),y(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),w=function(){var n=Object(l.a)(o.a.mark((function n(c){var s,r;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,a("/auth/login","POST",Object(m.a)({},c));case 3:s=n.sent,r=Object(me.a)(s.token),t.setUser(r),t.setAuth(!0),localStorage.setItem("token",s.token),e.push(X),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),n.t0&&y(n.t0);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e){return n.apply(this,arguments)}}();return Object(v.jsx)("div",{children:Object(v.jsx)(ae.a,{children:Object(v.jsx)(d.a,{className:"d-flex justify-content-center",children:Object(v.jsx)(b.a,{md:8,children:Object(v.jsxs)(M.a,{className:"p-3",children:[Object(v.jsx)("h2",{className:"m-auto",children:"Please Sign up"}),Object(v.jsxs)(Oe,{onSubmit:function(e){y({}),h({}),C(e)},setHttperror:y,children:[Object(v.jsx)(L,{label:"Your Email",name:"email",httperror:g.message,success:x.message}),Object(v.jsx)(L,{label:"Your Password",type:"password",name:"password"}),Object(v.jsx)("div",{className:"d-flex justify-content-center justify-content-sm-end py-2 mt-3",children:Object(v.jsx)("div",{className:"col-12 col-sm-3 ms-auto",children:Object(v.jsx)("button",{type:"submit",className:"btn btn btn-warning w-100",disabled:s,children:"Sign Up"})})})]}),Object(v.jsx)(d.a,{children:Object(v.jsx)("div",{className:"d-flex justify-content-center ",children:Object(v.jsxs)("div",{children:["Already registered?",Object(v.jsx)(V.c,{to:"/login",style:{textDecoration:"none"},className:"ms-2 fw-bold",children:"Log In"})]})})})]})})})})})};var he=function(){var e=Object(u.g)(),t=Object(c.useContext)(N),n=O(),a=n.loading,s=n.error,r=n.request,i=Object(c.useState)({}),x=Object(j.a)(i,2)[1],h=Object(c.useState)({}),f=Object(j.a)(h,2),p=f[0],g=f[1],y=function(){var n=Object(l.a)(o.a.mark((function n(c){var a,s;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,r("/auth/login","POST",Object(m.a)({},c));case 3:a=n.sent,s=Object(me.a)(a.token),t.setUser(s),t.setAuth(!0),localStorage.setItem("token",a.token),e.push(X),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),n.t0&&g(n.t0);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e){return n.apply(this,arguments)}}();return Object(v.jsx)(ae.a,{children:Object(v.jsx)(d.a,{className:"d-flex justify-content-center",children:Object(v.jsx)(b.a,{md:8,children:Object(v.jsxs)(M.a,{className:"p-3",children:[Object(v.jsx)("h2",{className:"m-auto",children:"Please Login"}),Object(v.jsxs)(Oe,{onSubmit:function(e){g({}),y(e),x({email:"",password:""}),s&&g(s)},setHttperror:g,children:[Object(v.jsx)(L,{label:"Your Email",name:"email",httperror:p.message}),Object(v.jsx)(L,{label:"Your Password",type:"password",name:"password"}),Object(v.jsx)("div",{className:"d-flex justify-content-end py-2 mt-3",children:Object(v.jsx)("div",{className:"col-12 col-sm-3 ms-auto",children:Object(v.jsx)("button",{type:"submit",className:"btn btn btn-warning w-100",disabled:a,children:"Login"})})})]}),Object(v.jsx)(d.a,{children:Object(v.jsx)("div",{className:"d-flex justify-content-center",children:Object(v.jsxs)("div",{children:["Don't have an account?",Object(v.jsx)(V.c,{to:"/registration",style:{textDecoration:"none"},className:"ms-2 fw-bold",children:"Sign up"})]})})})]})})})})},fe=function(){var e="/login"===Object(u.h)().pathname;return Object(v.jsx)("div",{children:e?Object(v.jsx)(he,{}):Object(v.jsx)(xe,{})})},pe=function(){return Object(v.jsx)(ae.a,{style:{height:window.innerHeight-76},className:"pt-5",children:Object(v.jsx)(fe,{})})},ve=function(){var e=Object(u.i)().id,t=Object(u.g)(),n=Object(c.useContext)(N),a=n.cart,s=Object(c.useState)(!1),r=Object(j.a)(s,2),i=r[0],m=r[1],f=Object(c.useState)(!1),p=Object(j.a)(f,2),g=p[0],y=p[1],C=Object(c.useState)({}),k=Object(j.a)(C,2),S=k[0],T=k[1],q=Object(c.useState)(!1),R=Object(j.a)(q,2),H=R[0],_=R[1],A=O().request,E=Object(c.useCallback)(function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,y(!0),e.next=4,A("/singleitem/".concat(t),"GET");case 4:n=e.sent,T(n),y(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),[A]);Object(c.useEffect)((function(){E(e)}),[E,e]);return g?Object(v.jsx)(w,{}):Object(v.jsxs)(ae.a,{style:{minHeight:"calc(100vh - 65px)"},className:"p-4",children:[Object(v.jsxs)(M.a,{className:" shadow d-flex flex-column justify-content-center align-items-center",children:[Object(v.jsxs)(d.a,{style:{minHeight:"50vh"},className:"p-3 w-100",children:[Object(v.jsx)(b.a,{md:1,children:Object(v.jsx)(h.a,{variant:"outline-secondary",className:"rounded rounded-circle  ",onClick:function(){t.goBack()},children:Object(v.jsx)("i",{className:"bi bi-chevron-left"})})}),Object(v.jsx)(b.a,{md:5,className:"d-flex justify-content-center align-items-center mx-auto",children:Object(v.jsx)(x.a,{src:S.imgURL,fluid:!0})})]}),Object(v.jsxs)(d.a,{className:"text-center w-100",children:[Object(v.jsx)(b.a,{md:6,className:"d-flex flex-column  justify-content-center my-1 align-items-center ",children:Object(v.jsx)("h2",{children:S.title})}),Object(v.jsx)(b.a,{md:6,className:"d-flex flex-column  justify-content-center my-1 align-items-center ",children:Object(v.jsxs)("h2",{children:["Price : ",S.price,te]})})]}),Object(v.jsx)(d.a,{style:{textAlign:"justify"},children:Object(v.jsx)(b.a,{md:12,className:"d-flex flex-column p-3 justify-content-center w-100 align-items-center ",children:Object(v.jsx)("p",{className:"p-3",children:S.description})})}),Object(v.jsx)(d.a,{className:" px-5 py-2 w-100 d-flex  justify-content-center align-items-center",children:Object(v.jsx)(b.a,{md:4,className:"d-flex  justify-content-center align-items-center",children:Object(v.jsx)(h.a,{variant:"outline-warning",className:"text-dark w-100 mb-3",onClick:function(){n.isAuth?function(e){if(a.find((function(t){return t._id===e._id})))return m(!0);n.addItemToCart(e._id),_(!0)}(S):t.push("/login")},children:"Add to cart"})})})]}),i&&Object(v.jsx)(ne,{show:i,onHide:function(){m(!1)},title:"Ooops...",body:"This item already in cart. Do you wish to continue shopping?",cancelButtonText:"Keep shopping",confirmButtonText:"Go to cart!",redirect:function(){t.push("/cart")}}),H&&Object(v.jsx)(ne,{show:H,onHide:function(){_(!1)},title:"Success!",body:"You added item to cart. Do you wish to continue shopping?",cancelButtonText:"Keep shopping",confirmButtonText:"Go to cart!",redirect:function(){t.push("/cart")}})]})};var ge=function(e){var t=e.title,n=e.price,c=e.imgURL,a=e._id,s=Object(u.g)();return Object(v.jsxs)(M.a,{className:"d-flex justify-content-between h-100 align-items-center shadow border border-2",style:{minHeight:"250px",borderRadius:15},children:[Object(v.jsx)(b.a,{md:12,className:"d-flex p-1 my-2",children:Object(v.jsx)(x.a,{src:c,fluid:!0,role:"button",className:"p-1 ",onClick:function(){s.push("/item/".concat(a))}})}),Object(v.jsxs)(b.a,{md:8,className:"d-flex flex-column justify-content-between align-items-center text-center",children:[Object(v.jsx)("h5",{children:t}),Object(v.jsxs)("p",{children:[" ","Price  ".concat(n).concat(te)]})]})]})};var ye=function(e){var t=e.type,n=e.search,a=Object(c.useContext)(N).items,s=function(e){return a.filter((function(t){return t.title.toLowerCase().replaceAll(" ","").includes(e.toLowerCase())}))}(n);return Object(v.jsx)(ae.a,{className:"d-flex flex-column ",children:Object(v.jsx)(d.a,{children:0===s.length?Object(v.jsx)("h2",{children:"'No items found'"}):t?s.filter((function(e){return e.itemType.toLowerCase().includes(t.toLowerCase())})).map((function(e){return Object(v.jsx)(b.a,{md:4,className:"py-3",children:Object(c.createElement)(ge,Object(m.a)(Object(m.a)({},e),{},{key:e._id}))},e._id)})):s.map((function(e){return Object(v.jsx)(b.a,{md:4,className:"py-3",children:Object(c.createElement)(ge,Object(m.a)(Object(m.a)({},e),{},{key:e._id}))},e._id)}))})})};function Ne(e,t){var n;return function(){var c=arguments,a=this,s=function(){e.apply(a,c)};clearTimeout(n),n=setTimeout(s,t)}}var Ce=function(){var e=Object(c.useContext)(N),t=Object(c.useState)(""),n=Object(j.a)(t,2),a=n[0],s=n[1],r=Object(c.useRef)(),i=Object(c.useCallback)(Ne((function(e){s(e)}),500),[]);return Object(c.useEffect)((function(){return e.setSearch(a),function(){e.setSearch("")}}),[a]),Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(ae.a,{className:"px-2 position-relative",children:Object(v.jsx)(d.a,{className:"d-flex justify-content-center align-items-center p-0",children:Object(v.jsxs)(W.a,{className:" my-2  position-relative  d-flex flex-row",children:[Object(v.jsx)(W.a.Control,{type:"text",placeholder:"Search",onChange:function(e){return i(e.target.value)},ref:r}),Object(v.jsx)(h.a,{className:"btn position-absolute top-50 end-0 translate-middle-y me-3 p-0",variant:"outline",onClick:function(){s(""),r.current.value=""},children:Object(v.jsx)("h2",{className:"m-0 p-0",children:Object(v.jsx)("i",{className:"  bi bi-x"})})})]})})})})},we=n(95);var ke=function(e){var t=e.setType,n=Object(c.useContext)(N),a=Object(c.useState)(),s=Object(j.a)(a,2),r=s[0],i=s[1];return 0===n.types.length?Object(v.jsx)(w,{}):Object(v.jsxs)(ae.a,{className:"p-2",children:[Object(v.jsx)(we.a,{children:n.types.map((function(e){return Object(v.jsx)(we.a.Item,{role:"button",onClick:function(){i(e.type),t(e.type)},className:e.type===r?"list-group-item-dark":"",children:e.type},e.id)}))}),Object(v.jsx)("div",{className:"d-flex flex-column  mt-3",children:Object(v.jsx)(h.a,{variant:"outline-warning",onClick:function(){i(void 0),t(void 0)},className:"text-dark",children:"Reset"})})]})},Se=n(65),Te=n.p+"static/media/mac.88b9c92e.jpg";var qe=function(){var e=Object(c.useContext)(N);return console.log(e.error.message),Object(v.jsx)("div",{className:"d-flex justify-content-center align-items-center fw-bolt fs-3",style:{minHeight:"calc(100vh - 68px)"},children:Object(v.jsxs)("p",{children:["Oooops.... ",e.error.message," Go to"," ",Object(v.jsx)(V.b,{to:X,children:"Home page"})," "]})})},Re=[{path:Z,Component:K},{path:"/cart",Component:be},{path:ee,Component:function(){return Object(v.jsx)(ae.a,{children:Object(v.jsx)(d.a,{style:{height:"calc(100vh - 78px"},children:Object(v.jsxs)(b.a,{md:12,className:"d-flex flex-column align-items-center justify-content-center",children:[Object(v.jsx)("h2",{children:"Thank you"}),Object(v.jsxs)("p",{children:["We appreciate your purchase of our products. You will receive your goods in a matter of time. Hope you will enjoy it. Your"," ",Object(v.jsx)("b",{children:"RedFox-online"})," team"]}),Object(v.jsxs)("p",{children:["Go to ",Object(v.jsx)(V.b,{to:X,children:"Main Page"})]})]})})})}}],He=[{path:"/login",Component:pe},{path:X,Component:function(){var e=Object(c.useState)(void 0),t=Object(j.a)(e,2),n=t[0],a=t[1],s=Object(c.useContext)(N);return Object(v.jsxs)("div",{className:"shop_page",children:[Object(v.jsx)("div",{className:"d-none d-lg-block page",children:Object(v.jsxs)(Se.Parallax,{bgImage:Te,bgImageAlt:"mac",strength:200,children:[Object(v.jsx)("div",{style:{position:"absolute",left:" 50%",top:" 50%",background:"transparent",padding:"15px",color:"#FFFF",fontSize:"3.5rem",transform:"translate(-50%, -50%)",fontFamily:"Sanserif"},children:"The power of Mac"}),Object(v.jsx)("div",{style:{minHeight:"50vh",width:"100wv"}})]})}),Object(v.jsx)("div",{className:"page",children:Object(v.jsxs)(d.a,{className:"m-0 mt-3 p-2",children:[Object(v.jsx)(b.a,{md:3,children:Object(v.jsx)(ke,{setType:function(e){return a(e)}})}),Object(v.jsxs)(b.a,{md:9,style:{minHeight:"100vh"},children:[Object(v.jsx)("div",{className:"d-md-none",children:Object(v.jsx)(Ce,{})}),Object(v.jsx)(ye,{type:n,search:s.search})]})]})})]})}},{path:"/registration",Component:pe},{path:"/item/:id?",Component:ve},{path:$,Component:qe}],_e=function(){var e=Object(c.useContext)(N).isAuth;return Object(v.jsxs)(u.d,{children:[e&&Re.map((function(e){var t=e.path,n=e.Component;return Object(v.jsx)(u.b,{path:t,component:n,exact:!0},t)})),He.map((function(e){var t=e.path,n=e.Component;return Object(v.jsx)(u.b,{path:t,component:n,exact:!0},t)})),Object(v.jsx)(u.a,{to:{pathname:$,component:qe}})]})},Ae=n(92),Ee=n(93),Be=n.p+"static/media/logo.97838c17.png",Le=n(34),Fe=n.n(Le);var Ie=function(){var e=Object(c.useState)(""),t=Object(j.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(!1),r=Object(j.a)(s,2),i=r[0],o=r[1],l=Object(c.useContext)(N).items,u=Object(c.useRef)(null),m=function(e){return l.filter((function(t){return t.title.toLowerCase().replaceAll(" ","").includes(e.toLowerCase())}))},O=m(n);Object(c.useEffect)((function(){return m(n),function(){a("")}}),[]);var x=Object(c.useCallback)(Ne((function(e){a(e)}),500),[]),f=function(){return a(""),u.current.value=""},p=function(e){o(e&&e.target===u.current)};return Object(c.useEffect)((function(){return document.addEventListener("click",p),function(){document.removeEventListener("click",p)}}),[]),Object(v.jsxs)("div",{className:Fe.a.dropdown,children:[Object(v.jsxs)(W.a,{className:" my-2  position-relative  d-flex flex-row",children:[Object(v.jsx)(W.a.Control,{type:"text",placeholder:"Search",ref:u,onClick:function(){o(!0)},onChange:function(e){return x(e.target.value)}}),Object(v.jsx)(h.a,{className:"btn position-absolute top-50 end-0 translate-middle-y me-1 p-0",variant:"outline",onClick:function(){f()},children:Object(v.jsx)("h2",{className:"m-0 p-0",children:Object(v.jsx)("i",{className:"  bi bi-x"})})})]}),i&&Object(v.jsx)("div",{className:i?"".concat(Fe.a.active," ").concat(Fe.a.options):Fe.a.options,children:O?O.map((function(e){return Object(v.jsx)(V.b,{to:"/item/".concat(e._id),onClick:function(){f()},style:{textDecoration:"none",color:"black",overflowX:"hidden"},children:Object(v.jsxs)(d.a,{className:" d-flex justify-content-center align-items-center w-100",children:[Object(v.jsx)(b.a,{md:4,children:Object(v.jsx)("img",{src:e.imgURL,className:"img-fluid ",alt:e.title})}),Object(v.jsx)(b.a,{md:8,className:"",children:Object(v.jsx)("div",{className:Fe.a.option,children:e.title})})]})},e._id)})):Object(v.jsx)("div",{children:"No items found"})})]})},Pe=function(){var e=Object(c.useContext)(N),t=Object(c.useCallback)((function(){e.setAuth(!1),e.setUser({}),localStorage.clear()}),[e]);return Object(v.jsx)(Ae.a,{bg:"dark",variant:"dark",expand:"md",className:"p-0",children:Object(v.jsxs)(ae.a,{children:[Object(v.jsxs)("div",{className:"d-flex justify-content-center align-items-center my-2",children:[Object(v.jsx)(V.c,{to:X,style:{color:"orange",textDecoration:"none"},children:Object(v.jsx)(x.a,{src:Be,style:{height:"60px",marginLeft:"10px"}})}),Object(v.jsx)("div",{className:"ms-4 d-none d-md-block",style:{width:"350px"},children:Object(v.jsx)(Ie,{})})]}),Object(v.jsx)(Ae.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(v.jsx)(Ae.a.Collapse,{id:"responsive-navbar-nav",className:"flex-grow-0",children:e.isAuth?Object(v.jsxs)(Ee.a,{children:["ADMIN"===e.user.role&&e.isAuth&&Object(v.jsx)(V.c,{to:Z,style:{color:"#FFC107",textDecoration:"none"},children:Object(v.jsx)(h.a,{className:"btn m-2",variant:"outline-warning",children:"Admin"})}),"USER"===e.user.role&&Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(V.c,{to:"/cart",style:{color:"#FFC107",textDecoration:"none"},children:Object(v.jsxs)(h.a,{className:"position-relative btn m-2",variant:"outline-warning",children:["Cart",Object(v.jsx)("i",{className:"bi bi-bag-check ms-2"}),Object(v.jsxs)("span",{className:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger",children:[e.cart.length,Object(v.jsx)("span",{className:"visually-hidden",children:"unread messages"})]})," "]})})}),Object(v.jsx)(V.c,{to:"/login",children:Object(v.jsx)(h.a,{className:"btn m-2",variant:"outline-warning",onClick:t,children:"Log out"})})]}):Object(v.jsx)(Ee.a,{children:Object(v.jsx)(V.b,{to:"/login",children:Object(v.jsx)(h.a,{className:"btn m-2",variant:"outline-warning",children:"Login"})})})})]})})},De=a.a.memo(Pe),Ue=function(e){return Object(v.jsxs)("div",{children:[Object(v.jsx)(De,{}),e.children]})};var Qe=function(){var e=Object(c.useContext)(N),t=O(),n=t.request,a=t.error,s=Object(c.useState)(!1),r=Object(j.a)(s,2),i=r[0],u=r[1],d=function(){var t=Object(l.a)(o.a.mark((function t(){var c,a,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,u(!0),c=localStorage.getItem("token"),t.next=5,n("/auth","GET",null,{Authorization:"Bearer ".concat(c)});case 5:a=t.sent,s=Object(me.a)(a.token),e.setUser(s),e.setAuth(!0),localStorage.setItem("token",a.token),u(!1),t.next=19;break;case 13:t.prev=13,t.t0=t.catch(0),e.setAuth(!1),e.setError(t.t0),console.log(t.t0),u(!1);case 19:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(){return t.apply(this,arguments)}}(),b=function(){var t=Object(l.a)(o.a.mark((function t(){var c,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n("/items");case 3:return c=t.sent,e.setItems(c),t.next=7,n("/types");case 7:a=t.sent,e.setTypes(a),t.next=13;break;case 11:t.prev=11,t.t0=t.catch(0);case 13:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(){return t.apply(this,arguments)}}();return Object(c.useEffect)((function(){return d(),function(){return u(!1)}}),[]),Object(c.useEffect)((function(){b()}),[]),i?Object(v.jsx)(w,{}):Object(v.jsx)(Ue,{children:Object(v.jsx)(_e,{error:a})})},Ye=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,96)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),s(e),r(e)}))};n(57);r.a.render(Object(v.jsx)(y,{children:Object(v.jsx)(V.a,{children:Object(v.jsx)(Qe,{})})}),document.getElementById("root")),Ye()}},[[84,1,2]]]);
//# sourceMappingURL=main.33371f66.chunk.js.map